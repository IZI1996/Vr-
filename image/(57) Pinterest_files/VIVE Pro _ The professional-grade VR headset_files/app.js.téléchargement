!function(e){function t(t){for(var r,a,c=t[0],s=t[1],u=t[2],d=0,p=[];d<c.length;d++)a=c[d],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&p.push(o[a][0]),o[a]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);for(l&&l(t);p.length;)p.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,c=1;c<n.length;c++){var s=n[c];0!==o[s]&&(r=!1)}r&&(i.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},o={0:0},i=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="";var c=window.webpackJsonp=window.webpackJsonp||[],s=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var l=s;i.push([639,1]),n()}({235:function(e,t){[Element.prototype,Document.prototype,DocumentFragment.prototype].forEach((function(e){e.hasOwnProperty("prepend")||Object.defineProperty(e,"prepend",{configurable:!0,enumerable:!0,writable:!0,value:function(){var e=Array.prototype.slice.call(arguments),t=document.createDocumentFragment();e.forEach((function(e){var n=e instanceof Node;t.appendChild(n?e:document.createTextNode(String(e)))})),this.insertBefore(t,this.firstChild)}})})),[Element.prototype,Document.prototype,DocumentFragment.prototype].forEach((function(e){e.hasOwnProperty("append")||Object.defineProperty(e,"append",{configurable:!0,enumerable:!0,writable:!0,value:function(){var e=Array.prototype.slice.call(arguments),t=document.createDocumentFragment();e.forEach((function(e){var n=e instanceof Node;t.appendChild(n?e:document.createTextNode(String(e)))})),this.appendChild(t)}})}))},573:function(e,t){Array.prototype.find||(Array.prototype.find=function(e){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var t,n=Object(this),r=n.length>>>0,o=arguments[1],i=0;i<r;i+=1)if(t=n[i],e.call(o,t,i,n))return t})},574:function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}
/*! modernizr 3.6.0 (Custom Build) | MIT *
 * https://modernizr.com/download/?-webp-setclasses !*/!function(e,t,r){function o(e,t){return n(e)===t}function i(e){var t=p.className,n=l._config.classPrefix||"";if(f&&(t=t.baseVal),l._config.enableJSClass){var r=new RegExp("(^|\\s)"+n+"no-js(\\s|$)");t=t.replace(r,"$1"+n+"js$2")}l._config.enableClasses&&(t+=" "+n+e.join(" "+n),f?p.className.baseVal=t:p.className=t)}function a(e,t){if("object"==n(e))for(var r in e)d(e,r)&&a(r,e[r]);else{var o=(e=e.toLowerCase()).split("."),c=l[o[0]];if(2==o.length&&(c=c[o[1]]),void 0!==c)return l;t="function"==typeof t?t():t,1==o.length?l[o[0]]=t:(!l[o[0]]||l[o[0]]instanceof Boolean||(l[o[0]]=new Boolean(l[o[0]])),l[o[0]][o[1]]=t),i([(t&&0!=t?"":"no-")+o.join("-")]),l._trigger(e,t)}return l}var c=[],s=[],u={_version:"3.6.0",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(e,t){var n=this;setTimeout((function(){t(n[e])}),0)},addTest:function(e,t,n){s.push({name:e,fn:t,options:n})},addAsyncTest:function(e){s.push({name:null,fn:e})}},l=function(){};l.prototype=u,l=new l;var d,p=t.documentElement,f="svg"===p.nodeName.toLowerCase();!function(){var e={}.hasOwnProperty;d=o(e,"undefined")||o(e.call,"undefined")?function(e,t){return t in e&&o(e.constructor.prototype[t],"undefined")}:function(t,n){return e.call(t,n)}}(),u._l={},u.on=function(e,t){this._l[e]||(this._l[e]=[]),this._l[e].push(t),l.hasOwnProperty(e)&&setTimeout((function(){l._trigger(e,l[e])}),0)},u._trigger=function(e,t){if(this._l[e]){var n=this._l[e];setTimeout((function(){var e;for(e=0;e<n.length;e++)(0,n[e])(t)}),0),delete this._l[e]}},l._q.push((function(){u.addTest=a})),l.addAsyncTest((function(){function e(e,t,n){function r(t){var r=!(!t||"load"!==t.type)&&1==o.width;a(e,"webp"===e&&r?new Boolean(r):r),n&&n(t)}var o=new Image;o.onerror=r,o.onload=r,o.src=t}var t=[{uri:"data:image/webp;base64,UklGRiQAAABXRUJQVlA4IBgAAAAwAQCdASoBAAEAAwA0JaQAA3AA/vuUAAA=",name:"webp"},{uri:"data:image/webp;base64,UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAABBxAR/Q9ERP8DAABWUDggGAAAADABAJ0BKgEAAQADADQlpAADcAD++/1QAA==",name:"webp.alpha"},{uri:"data:image/webp;base64,UklGRlIAAABXRUJQVlA4WAoAAAASAAAAAAAAAAAAQU5JTQYAAAD/////AABBTk1GJgAAAAAAAAAAAAAAAAAAAGQAAABWUDhMDQAAAC8AAAAQBxAREYiI/gcA",name:"webp.animation"},{uri:"data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA=",name:"webp.lossless"}],n=t.shift();e(n.name,n.uri,(function(n){if(n&&"load"===n.type)for(var r=0;r<t.length;r++)e(t[r].name,t[r].uri)}))})),function(){var e,t,n,r,i,a;for(var u in s)if(s.hasOwnProperty(u)){if(e=[],(t=s[u]).name&&(e.push(t.name.toLowerCase()),t.options&&t.options.aliases&&t.options.aliases.length))for(n=0;n<t.options.aliases.length;n++)e.push(t.options.aliases[n].toLowerCase());for(r=o(t.fn,"function")?t.fn():t.fn,i=0;i<e.length;i++)1===(a=e[i].split(".")).length?l[a[0]]=r:(!l[a[0]]||l[a[0]]instanceof Boolean||(l[a[0]]=new Boolean(l[a[0]])),l[a[0]][a[1]]=r),c.push((r?"":"no-")+a.join("-"))}}(),i(c),delete u.addTest,delete u.addAsyncTest;for(var m=0;m<l._q.length;m++)l._q[m]();e.Modernizr=l}(window,document)},639:function(e,t,n){"use strict";n.r(t);n(295);var r=n(1),o=n.n(r),i=n(59),a=n.n(i),c=n(34),s=n(35),u=n(179),l=n.n(u),d=n(71),p=n.n(d),f=n(180),m=n.n(f),h=n(131),v=n.n(h),y=(n(659),n(664),n(678),n(235),n(573),n(574),{"site-id":"",locale:"","fiter-country":"",countryName:"",currency:"","theme-id":"",cartProviderType:"",ecLocale:"",storeLocale:""}),g=n(62),b=n.n(g);function k(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var S=function(e,t){var n;e&&e.classList&&(n=e.classList).add.apply(n,k(t))},w=function(e,t){var n;e&&e.classList&&(n=e.classList).remove.apply(n,k(t))},I=function(e){e&&e.parentNode.removeChild(e)},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){return e[t]?e[t]:t}},_=function(e){for(var t=e.attributes,n={},r=0;r<t.length;r+=1){var o=t[r];if(o.name.indexOf("data-")>-1)n[o.name.replace("data-","").split("-").map((function(e,t){return t?e.replace(e[0],e[0].toUpperCase()):e})).join("")]=o.value}return n},C=function(e){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)},T=function(){var e=document.getElementById("data-store-info");return e?JSON.parse(e.getAttribute("data-store-info")||"[]"):[]},E=function(){return b.a.get("dr-htc-locale-info")?JSON.parse(b.a.get("dr-htc-locale-info")):y},L=function(){return b.a.get("vive-magento-token")?b.a.get("vive-magento-token"):""},O=function(e){b.a.set("vive-magento-token",e,{domain:"vive.com",path:"/"})};function P(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function j(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){P(i,r,o,a,c,"next",e)}function c(e){P(i,r,o,a,c,"throw",e)}a(void 0)}))}}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var D=function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),x(this,"checkToken",function(){var e=j(regeneratorRuntime.mark((function e(n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=L(),e.next=3,fetch(t.getCartApi,{headers:{"Content-Type":"application/json"},method:"GET",credentials:"include"}).then((function(e){return e.json()})).catch((function(e){return console.error("Error:",e)})).then((function(e){e.quote_id!==r&&O(e.quote_id),n()}));case 3:e.sent;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),x(this,"getCart",function(){var e=j(regeneratorRuntime.mark((function e(n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=L(),e.next=3,fetch(t.getCartApi,{headers:{"Content-Type":"application/json"},method:"GET",credentials:"include"}).then((function(e){return e.json()})).catch((function(e){return console.error("Error:",e)})).then((function(e){e.quote_id!==r&&O(e.quote_id);var t=[];e.items.length>0&&e.items.forEach((function(e){var n={id:e.pid,name:e.name,image:e.thumbnail,quantity:e.qty,price:e.formatted_subTotal,saleprice:e.formatted_subTotal};t.push(n)}));var o={items:t,totalItems:e.grand_total,subTotal:e.formatted_grand_total,checkoutURL:e.checkout_url};n(o)}));case 3:e.sent;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),x(this,"retrieveProductInfo",function(){var e=j(regeneratorRuntime.mark((function e(n,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t.getProductApi,{headers:{"x-api-key":t.lamdaApiKey,"Content-Type":"application/json"},method:"POST",body:JSON.stringify({storecode:t.ecLocale,pids:[n]})}).then((function(e){return e.json()})).catch((function(e){return console.error("Error:",e)})).then((function(e){r(e)}));case 2:e.sent;case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),x(this,"getProduct",function(){var e=j(regeneratorRuntime.mark((function e(n,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.retrieveProductInfo(n,(function(e){var t={};e.length>0&&(t={price:e[0].formatted_base_price,saleprice:e[0].formatted_price,overrideOutOfStock:!1,availableStock:"",inventory:parseInt(e[0].inventory,10),isAvailable:"available"===e[0].status,isBackOrder:!1,isPreOrder:!1}),r(t)}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),x(this,"removeItemFromCart",function(){var e=j(regeneratorRuntime.mark((function e(n,r){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.removeItemApi.replace("{pid}",n),e.next=3,fetch(o,{headers:{Referer:"https://www.vive.com/","Content-Type":"application/json"},method:"POST",credentials:"include"}).then((function(e){return e.json()})).catch((function(e){return console.error("Error:",e)})).then((function(e){r(e)}));case 3:e.sent;case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),x(this,"addToCart",function(){var e=j(regeneratorRuntime.mark((function e(n,r,o){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.checkToken((function(){t.retrieveProductInfo(n,function(){var e=j(regeneratorRuntime.mark((function e(n){var i,a,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n.length>0)){e.next=7;break}return i=L(),a=n[0].sku,c=t.addItemtApi.replace("{quote}",i),e.next=6,fetch(c,{headers:{Referer:"https://www.vive.com/","Content-Type":"application/json"},method:"POST",body:JSON.stringify({cart_item:{quote_id:i,qty:r,sku:a}})}).then((function(e){return e.json()})).catch((function(e){return console.error("Error:",e)})).then((function(e){e.qty>0&&o()}));case 6:e.sent;case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}));case 1:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}());var n=E();this.ecLocale=n.ecLocale,this.getCartApi=n.miniCartApiLink.getCart,this.getProductApi=n.miniCartApiLink.getProduct,this.addItemtApi=n.miniCartApiLink.addItem,this.removeItemApi=n.miniCartApiLink.removeItem,this.lamdaApiKey=n.miniCartApiLink.key,this.getCart=this.getCart.bind(this),this.getProduct=this.getProduct.bind(this),this.retrieveProductInfo=this.retrieveProductInfo.bind(this)},N="https"===purl().attr("protocol");function q(){var e=purl().attr("host"),t="vive.com";return"localhost"===e?t="localhost":e.indexOf("htcvive.com")>-1&&(t="htcvive.com"),t}function R(e,t,n){$.cookie(e,t,{domain:q(),path:"/",expires:1,secure:N})}function H(e){return void 0!==$.cookie(e)?$.cookie(e):null}function U(e,t,n){var r,o,i,a,c=e,s=c.split("_")[1],u=t,l=n,d=location.hostname.indexOf("htcvive.com")>-1,p="",f="https://store.%cc%.vive.com/";switch(d&&(f="https://store.%cc%.htcvive.com/"),s.toLowerCase()){case"us":p="&accountID=565272&expand=customAttributes";case"ca":r="https://api.digitalriver.com/v1/shoppers/",o=f.replace("%cc%","us")+"store/htcus/SessionToken",i=d?"6ac66961851f424f87aa7992a5cea5ca":"5310815a01e14e95bfedf1b655fdef03",i+=p;break;case"nz":case"au":case"hk":case"sg":r="https://api.digitalriver.com/v1/shoppers/",o=f.replace("%cc%","ap")+"store/htcapac/SessionToken",i=d?"0e393a6f3c9c4e08aab38db741953af0":"2b0d95e5167742bfaa87b50141d327b9";break;case"ie":case"fr":case"de":case"gb":case"at":case"pl":case"be":case"is":case"es":case"se":case"it":case"ch":case"dk":case"cz":case"nl":case"fi":case"lv":case"lt":case"lu":case"mt":case"pt":case"no":r="https://api.digitalriver.com/v1/shoppers/",o=f.replace("%cc%","eu")+"store/htcemea/SessionToken",i=d?"b38695ad77ef4d31b11192f8d80d9a8d":"37504a549ca94c2fbcff1cc7ebfd89e2"}a=void 0!==c&&void 0!==c&&""!==c&&void 0!==u&&void 0!==u&&""!==u?"locale="+c+"&currency="+u+"&":"",this.createAnonToken=function(e){var t=o+"?"+a+"format=json&method=get&ThemeID="+l+"&apiKey="+i,n=U.token;if(null===n||""===n){if(U.flag)return void U.queue.push(e);U.flag=!0,$.ajax({url:t,dataType:"jsonp",success:function(t){var n;for(U.flag=!1,U.token=t.access_token,R("dr-htc-token",t.access_token),"function"==typeof e&&e();n=U.queue.shift();)n();setTimeout((function(){U.token=""}),500)},error:function(e,t,n){U.flag=!1}})}else"function"==typeof e&&e()},this.addToCart=function(e,t,n){this.createAnonToken((function(){var o=H("dr-htc-token"),i=r+"me/carts/active/line-items?format=json&method=post&productId="+e+"&quantity="+t+"&token="+o;$.ajax({url:i,dataType:"jsonp",tryCount:0,retryLimit:3,success:function(e){if(e&&e.errors){var t="";switch(e.errors.error[0].code){case"offer-unavailable":case"inventory-unavailable-error":case"offer-not-applicable":case"invalid-product-id":t="out-of-stock"}}"function"==typeof n&&(t?n(t):n())},error:function(e,t,n){}})}))},this.removeItemFromCart=function(e,t){this.createAnonToken((function(){var n=H("dr-htc-token"),o=r+"me/carts/active/line-items/"+e+"?format=json&method=delete&token="+n;$.ajax({url:o,dataType:"jsonp",tryCount:0,retryLimit:3,success:function(e){"function"==typeof t&&t()},error:function(e,t,n){}})}))},this.getCart=function(e){this.createAnonToken((function(){var t=H("dr-htc-token"),n=r+"me/carts/active?format=json&expand=lineitems.lineItem.product.sku&method=get&token="+t;"en_us"==c.toLowerCase()&&(n+=p),$.ajax({method:"POST",url:n,dataType:"jsonp",tryCount:0,retryLimit:3,success:function(n){if(n&&n.errors)R("dr-htc-token","");else{var o=[];n.cart.lineItems.lineItem&&(o=n.cart.lineItems.lineItem);var i=[];$.each(o,(function(e,t){var n={id:t.id,name:t.product.displayName,image:t.product.thumbnailImage,quantity:t.quantity,price:t.pricing.formattedListPriceWithQuantity,saleprice:t.pricing.formattedSalePriceWithQuantity};i[e]=n}));var a=ViveCookie.getCookie(siteInfoCookieName).themeId,c=r+"me/carts/active/web-checkout?token="+t+"&ThemeID="+a,s={items:i,totalItems:n.cart.totalItemsInCart,subTotal:n.cart.pricing.formattedSubtotal,checkoutURL:c};"function"==typeof e&&e(s)}},error:function(e,t,n){}})}))},this.checkout=function(){this.getCart((function(e){window.location=e.checkoutURL}))},this.getProduct=function(e,t){this.createAnonToken((function(){H("dr-htc-token");var n=r+"me/products/"+e+"?"+a+"format=json&method=get&apiKey="+i+"&expand=pricing,inventoryStatus";$.ajax({url:n,dataType:"jsonp",tryCount:0,retryLimit:3,success:function(e){var n={};e.product&&(n={price:e.product.pricing.formattedListPrice,saleprice:e.product.pricing.formattedSalePriceWithQuantity,overrideOutOfStock:!1,availableStock:"",inventory:parseInt(e.product.inventoryStatus.availableQuantity,10),isAvailable:e.product.inventoryStatus.productIsInStock,isBackOrder:"true"===e.product.inventoryStatus.productIsAllowsBackorders,isPreOrder:e.product.inventoryStatus.productIsAllowsBackorders}),"function"==typeof t&&t(n)},error:function(e,t,n){}})}))},this.getPrices=function(e,t){this.createAnonToken((function(){H("dr-htc-token");var n=r+"me/products?"+a+"productId="+e.toString()+"&format=json&method=get&apiKey="+i+"&expand=product,pricing,product.inventoryStatus";$.ajax({url:n,dataType:"jsonp",tryCount:0,retryLimit:3,success:function(e){var n=e.products.product,r=[];if(void 0!==n&&n.length>0)for(var o=0,i=n.length;o<i;o++){var a=n[o],c=a.id.toString(),s=a.pricing.formattedListPrice;r[o]={skuId:c,price:s}}"function"==typeof t&&t(r)},error:function(e,t,n){}})}))}}U.token="",U.queue=[];var B=U,M="https"===purl().attr("protocol"),F=purl().attr("host").toLowerCase(),Q=purl().attr("path").split("/")[1].toLowerCase();function G(e){return-1!==["kr","sg","tw","nz","mea-en","mea-ar"].indexOf(e)}function J(){return"localhost"===F?"localhost":F.indexOf("htcvive.com")>-1?"htcvive.com":"vive.com"}function K(e,t,n){$.cookie(e,t,{domain:J(),expires:1,path:"/",secure:M})}function z(e){return void 0!==$.cookie(e)?$.cookie(e):null}function V(e,t,n){var r,o,i,a=e,c=t,s=n;switch(a.toLowerCase()){case"ko_kr":case"kr":r="https://mall.vivestore.co.kr/soap_api8.php",o="https://mall.vivestore.co.kr/soap_api8.php";break;case"zh_tw":case"en_nz":case"en_sg":r="https://store.vive.com/soap_api8.php",o="https://store.vive.com/soap_api8.php";break;case"en_sa":case"en_ae":case"ar_ae":case"ar_sa":r="https://e-store.vive.com/soap_api8.php",o="https://e-store.vive.com/soap_api8.php";break;default:console.error("Cart provider can't find relative locale")}i=void 0!==a&&void 0!==a&&""!==a&&void 0!==c&&void 0!==c&&""!==c?"locale="+a+"&currency="+c+"&":"",this.createAnonToken=function(e){var t=z("dr-htc-locale-info"),n=o+"?"+i+"format=json&method=get&ThemeID="+s+"&apiKey="+void 0+"&localeInfo="+t,r=V.token;if(null===r||""===r){if(V.flag)return void V.queue.push(e);V.flag=!0,$.ajax({url:n,dataType:"jsonp",success:function(t){var n;for(V.flag=!1,V.token=t.access_token,K("dr-htc-token",t.access_token),"function"==typeof e&&e();n=V.queue.shift();)n();setTimeout((function(){V.token=""}),500)},error:function(e,t,n){V.flag=!1,console.log("createAnonToken error")}})}else"function"==typeof e&&e()},this.addToCart=function(e,t,n){this.createAnonToken((function(){var o=z("dr-htc-token"),i=r+"?me/carts/active/line-items?format=json&method=post&productId="+e+"&quantity="+t+"&token="+o;G(Q)?(i=r+"?format=json&method=post&productId="+e+"&quantity="+t+"&token="+o,$.ajax({url:i,dataType:"jsonp",tryCount:0,retryLimit:3,success:function(e){if(e&&e.errors){var t="";switch(e.errors.error[0].code){case"offer-unavailable":case"inventory-unavailable-error":case"offer-not-applicable":case"invalid-product-id":t="out-of-stock"}}"function"==typeof n&&(t?n(t):n())},error:function(e,t,n){}})):console.log("not support this country "+Q)}))},this.removeItemFromCart=function(e,t){this.createAnonToken((function(){var n=z("dr-htc-token"),o=r+"?me/carts/active/line-items/"+e+"?format=json&method=delete&token="+n;G(Q)&&(o=r+"?productId="+e+"&format=json&method=delete&token="+n),$.ajax({url:o,dataType:"jsonp",tryCount:0,retryLimit:3,success:function(e){"function"==typeof t&&t()},error:function(e,t,n){}})}))},this.getCart=function(e){this.createAnonToken((function(){var t=z("dr-htc-token"),n=r+"?me/carts/active?format=json&expand=lineitems.lineItem.product.sku&method=get&token="+t;G(Q)&&(n=r+"?format=json&expand=lineitems.lineItem.product.sku&method=get&token="+t),$.ajax({url:n,dataType:"jsonp",tryCount:0,retryLimit:3,success:function(n){if(n&&n.errors)K("dr-htc-token","");else{var i=[];n.cart.lineItems.lineItem&&(i=n.cart.lineItems.lineItem);var a=[];$.each(i,(function(e,t){var n={id:t.id,name:t.product.displayName,image:t.product.thumbnailImage,quantity:t.quantity,price:t.pricing.formattedListPriceWithQuantity,saleprice:t.pricing.formattedSalePriceWithQuantity};a[e]=n}));var c=JSON.parse(z("dr-htc-locale-info")).fiterCountry,u=r+"?me/carts/active/web-checkout?token="+t+"&ThemeID="+s;G(Q)&&(u=o+"?action=checkout&token="+t+"&site="),u+=c;var l={items:a,totalItems:n.cart.totalItemsInCart,subTotal:n.cart.pricing.formattedSubtotal,checkoutURL:u};"function"==typeof e&&e(l)}},error:function(e,t,n){}})}))},this.checkout=function(){this.getCart((function(e){window.location=e.checkoutURL}))},this.getProduct=function(e,t){this.createAnonToken((function(){var n=z("dr-htc-token"),o=r+"?me/products/"+e+"?"+i+"format=json&method=get&apiKey="+void 0+"&expand=pricing,inventoryStatus";G(Q)&&(o=r+"?products="+e+"&"+i+"format=json&method=get&apiKey="+void 0+"&expand=pricing,inventoryStatus&token="+n),$.ajax({url:o,dataType:"jsonp",tryCount:0,retryLimit:3,success:function(e){var n={};e.product&&(n={price:e.product.pricing.formattedListPrice,saleprice:e.product.pricing.formattedSalePriceWithQuantity,overrideOutOfStock:!1,availableStock:"",inventory:parseInt(e.product.inventoryStatus.availableQuantity,10),isAvailable:e.product.inventoryStatus.productIsInStock,isBackOrder:e.product.inventoryStatus.productIsAllowsBackorders,isPreOrder:e.product.inventoryStatus.productIsAllowsBackorders}),"function"==typeof t&&t(n)},error:function(e,t,n){}})}))},this.getPrices=function(e,t){this.createAnonToken((function(){z("dr-htc-token");var n=r+"?method=get&productIds="+e.toString()+"&format=json&method=get&apiKey="+void 0+"&expand=product,pricing,product.inventoryStatus";$.ajax({url:n,dataType:"jsonp",tryCount:0,retryLimit:3,success:function(e){var n=e.products.product,r=[];if(void 0!==n&&n.length>0)for(var o=0,i=n.length;o<i;o++){var a=n[o],c=a.id.toString(),s=a.pricing.formattedListPrice;r[o]={skuId:c,price:s}}"function"==typeof t&&t(r)},error:function(e,t,n){}})}))}}V.token="",V.queue=[];var W=V,Y=function(){var e,t;switch(location.host){case"localhost":case"localhost:8080":e={zh_cn:""},t={zh_cn:""};break;default:e={zh_cn:"https://eshop.htc.com/mall/"},t={zh_cn:"https://eshop.htc.com/mall/api_vive_shopping_cart?storeId=10051"}}var n,r,o,i=!1,a="logout",c=[],s=[],u=!1,l=function(e){return function(){var t=arguments;"login"!==a?i?c.push({cb:e,arg:t}):d.login((function(){e.apply(d,t)})):e.apply(d,t)}};function d(i){return i&&"string"==typeof i&&(r=e[n=i],o=t[n]),d}function p(e,t){r="https://eshop.htc.com/mall/";var n,o=$.cookie("htc-uid");if("string"==typeof e&&"object"===$.type(t)&&("api_vive_orderitem_list"===e||"api_vive_product_detail_intro"===e||"api_user_logon"===e||"api_user_logoff"===e||"login"===a)&&r){n=t.success,p.e=t.error,delete t.success,delete t.error,t.data=$.extend({storeId:10051,verify_account:"8e5008cb-16c9-4139-b4fc-12b1fe27e76f",verify_password:"1e35e1b1-48b1-4fd1-8c3d-ff3c27c13581"},t.data),o&&(t.data.access_token=o);var c=$.extend({url:r+e,dataType:"jsonp"},t);$.ajax(c).fail(f).done((function(e){if(e.error_msg)return f();"function"==typeof n&&setTimeout((function(){n(e)}),10)})).always((function(){i=!1}))}}function f(){"function"==typeof p.e&&setTimeout((function(){p.e(arguments),p.e=null}),10)}return d.getProductList=l((function(e,t){p("api_vive_product_detail_intro",{data:{product_id:e},success:function(e){"function"==typeof t&&t(e)}})})),d.getProduct=function(e,t){u?s.push({args:[e,t]}):(u=!0,p("api_vive_product_detail_intro",{data:{product_id:e},success:function(e){u=!1;var n={price:"￥ "+numeral(Number(e.list_price)).format("0,0"),saleprice:"￥ "+numeral(Number(e.offer_price)).format("0,0"),overrideOutOfStock:!1,availableStock:"",inventory:parseInt(e.inventory,10),isAvailable:!!+e.inventory,isBackOrder:!1,isPreOrder:!1};"function"==typeof t&&t(n),(e=s.shift())&&d.getProduct.apply(d,e.args)}}))},d.getCart=function(e){clearTimeout(d.tid),d.tid=setTimeout((function(){var t=$.cookie("htc-account-token"),n=$.cookie("htc-uid");t&&n&&function(e){o="https://eshop.htc.com/mall/api_vive_shopping_cart?storeId=10051",p("api_vive_orderitem_list",{success:function(t){var n=[];t.order_items&&$.each(t.order_items,(function(e,t){n.push({id:t.orderitem_id,name:t.orderitem_name,image:t.orderitem_image,quantity:t.orderitem_quantity,price:t.orderitem_price,saleprice:t.orderitem_total_price})}));t={items:n,totalItems:t.order_product_count,subTotal:t.order_total_price,checkoutURL:o,orderId:t.order_id};"function"==typeof e&&e(t)}})}(e)}),300)},d.addToCart=l((function(e,t,n){p("api_vive_product_add_cart",{data:{sku_id:e,quantity:t},success:function(e){if(e&&e.error_msg){var t="";switch(e.error_msg){case"The inventory of product is not enough.":case"The orderitem will exceed the maximum number of the product or system.":t="out-of-stock"}}"function"==typeof n&&(t?n(t):n())}})})),d.removeItemFromCart=l((function(e,t){u?s.push({args:[e,t]}):(u=!0,p("api_orderitem_operate",{data:{orderitem_id:e,action:"remove"},success:function(){u=!1,"function"==typeof t&&t();var e=s.shift();e&&d.removeItemFromCart.apply(d,e.args)}}))})),d.login=function(e){var t,n,r,o;if("login"!==a){if(r=$.cookie("htc-account-token"),o=$.cookie("htc-uid"),!r||!o)return n="https://"+(t=window.location).host+"/us/ssologin?action=login&prevUrl="+encodeURIComponent(t.href),void(t.href=n);i||(i=!0,p("api_user_logon",{data:{AuthKey:r},success:function(t){var n;for("success"===t.message&&(a="login",i=!1),"function"==typeof e&&e();c.length;)(n=c.shift()).cb.apply(d,n.arg)}}))}else"function"==typeof e&&e()},d.logout=function(e){p("api_user_logoff",{success:function(t){"success"===t.message&&(a="logout"),"function"==typeof e&&e(),c=[]}})},d.checkout=function(){o&&(window.location.href=o)},d.createAnonToken=function(e){d.login(e)},d.status=function(){return a},d}();function X(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Z(e,t,n){var r=t.get(e);if(!r)throw new TypeError("attempted to set private field on non-instance");if(r.set)r.set.call(e,n);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=n}return n}function ee(e,t){var n=t.get(e);if(!n)throw new TypeError("attempted to get private field on non-instance");return n.get?n.get.call(e):n.value}var te=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),ne.set(this,{writable:!0,value:void 0}),ee(this,ne),this.setup()}var t,n,r;return t=e,(n=[{key:"setup",value:function(){var e=E();if(e){var t=e.cartProviderType;t.includes("DIGITAL_RIVER")?Z(this,ne,new B(e.ecLocale,e.currency,e.themeId)):t.includes("MAGENTO_ONE")?Z(this,ne,new W(e.ecLocale,e.currency,e.themeId)):t.includes("WCS")?Z(this,ne,new Y):t.includes("MAGENTO")&&Z(this,ne,new D(e.storeLocale))}}},{key:"returnProductInfo",value:function(e,t){ee(this,ne).getProduct(e,(function(e){t(e)}))}},{key:"addToCart",value:function(e,t,n){ee(this,ne).addToCart(e,t,(function(e){n(e)}))}},{key:"removeItemFromCart",value:function(e,t){ee(this,ne).removeItemFromCart(e,(function(){t()}))}},{key:"getCart",value:function(e){try{ee(this,ne).getCart((function(t){e(t)}))}catch(e){console.warn("Please setup cart provider")}}}])&&X(t.prototype,n),r&&X(t,r),e}(),ne=new WeakMap,re=te,oe=function(e,t){document.getElementsByTagName("header")[0];var n=document.querySelector(".nav20-center-content"),r=document.querySelector(".nav20-mini-cart"),o=document.querySelector(".nav20-account-info"),i=[n,r,o],a={toolItem:!1,menuMode:!1};switch(e){case"header-menu":a.toolItem=n,a.menuMode=!0;break;case"cart":a.toolItem=r,a.menuMode=!0;break;case"account":a.toolItem=o}i.forEach((function(e){e&&e!==a.toolItem&&(e.classList.remove("active"),document.body.classList.remove("nav20-menu-mode","nav20-menu-mode--menu"))})),e&&(a.toolItem.classList.contains("active")&&!0!==t?(a.toolItem.classList.remove("active"),document.body.classList.remove("nav20-menu-mode","nav20-menu-mode--menu")):a.toolItem.classList.contains("active")&&!0!==t||(a.toolItem.classList.add("active"),a.menuMode&&(document.body.classList.add("nav20-menu-mode"),a.toolItem===n&&document.body.classList.add("nav20-menu-mode--menu"))))};function ie(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ae=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.ecCartProviderApi=new re,this.miniCart=document.querySelector(".nav20-mini-cart"),this.miniCartContent=document.querySelector(".nav20-mini-cart .nav20-mini-cart-content"),this.miniCartList=document.querySelector(".nav20-mini-cart-list"),this.miniCartQuantity=document.querySelector(".nav20-mini-cart-quantity"),this.init=this.init.bind(this),this.buildCartHtml=this.buildCartHtml.bind(this),this.settingForCartHasItem=this.settingForCartHasItem.bind(this),this.settingForCartEmpty=this.settingForCartEmpty.bind(this),this.checkShoppingCart=this.checkShoppingCart.bind(this),this.checkShoppingCartAndDisplayList=this.checkShoppingCartAndDisplayList.bind(this),this.displayMiniCartList=this.displayMiniCartList.bind(this),this.hideMiniCartList=this.hideMiniCartList.bind(this),this.bindCartClick=this.bindCartClick.bind(this)}var t,n,r;return t=e,(n=[{key:"init",value:function(){this.miniCart&&(this.bindCartClick(),this.checkShoppingCart())}},{key:"buildCartHtml",value:function(e){if(void 0!==e.items&&e.items.length>0){var t="",n=0;e.items.slice(0).reverse().map((function(e,r){n+=e.quantity,t+='\n          <div class="nav20-mini-cart-item">\n            <div class="nav20-mini-cart-item-left">\n              <img src="'.concat(e.image,'" alt=""/>\n            </div>\n            <div class="nav20-mini-cart-item-right">\n              <div class="nav20-mini-cart-item-right-top">\n                ').concat(e.name,'\n              </div>\n              <div class="nav20-mini-cart-item-right-bottom">\n                <div class="nav20-mini-cart-qty">\n                  x').concat(e.quantity,'\n                </div>\n                <div class="nav20-mini-cart-price">\n                  ').concat(e.saleprice,"\n                </div>\n              </div>\n            </div>\n          </div>\n        ")})),this.miniCartList.innerHTML=t,this.miniCartQuantity.innerHTML=n,this.settingForCartHasItem();var r=this.miniCartContent.querySelector(".nav20-check-out");r&&r.addEventListener("click",(function(t){t.preventDefault(),window.location.href=e.checkoutURL}))}else this.settingForCartEmpty()}},{key:"settingForCartHasItem",value:function(){this.miniCart&&this.miniCart.classList.add("has-items")}},{key:"settingForCartEmpty",value:function(){this.miniCart&&this.miniCart.classList.remove("has-items")}},{key:"displayMiniCartList",value:function(){console.log("displayMiniCartList")}},{key:"hideMiniCartList",value:function(){console.log("hideMiniCartList")}},{key:"checkShoppingCartAndDisplayList",value:function(){var e=this;this.ecCartProviderApi.getCart((function(t){e.buildCartHtml(t),e.displayMiniCartList()}))}},{key:"checkShoppingCart",value:function(){var e=this;this.ecCartProviderApi.getCart((function(t){e.buildCartHtml(t)}))}},{key:"bindCartClick",value:function(){var e=this.miniCart.querySelector(".nav20-toggle-btn");if(e){var t=function(){oe("cart")};e.removeEventListener("click",t),e.addEventListener("click",t)}}}])&&ie(t.prototype,n),r&&ie(t,r),e}(),ce={vn:["shopee.vn","tiki.vn"],nz:["www.pbtech.co.nz"],th:["vive.beyondgodlike.net"],"my-en":["www.11street.my","www.lazada.com.my","www.shopee.com.my","shopee.com.my"],tw:[],hk:["www.hktshop.com"],in:["www.amazon.in"],sg:["www.hktshop.com","shop.beyondgeek.sg"],ua:["www.moyo.ua"]},se={cn:["hmsr","hmpl","hmcu","hmkw"]},ue=[{hostPattern:/enterprise/,checkList:[{urlPattern:/#sign-in/,replaceURL:"http://enterprise.vive.com/portal/"}]}],le=function(e,t,n,r){return!function(e){return/^(?:[a-zA-Z]+:)?\/\/|^#|^JavaScript/i.test(e)}(e)&&n.test(t)?"".concat(r).concat(/^\//.test(e)?"":"/").concat(function(e){if("/"!==window.location.pathname&&e){for(var t=window.location.pathname.replace(/^\/|\/$/g,"").split("/"),n=t.length,r=/\.{2}\//g,o=null!==e.match(r)?n-e.match(r).length:0,i=e.replace(r,""),a=0;a<o;a+=1)i="".concat(t[a],"/").concat(i);return i}return e}(e)):e},de=function(e,t,n){for(var r=0;r<t.length;r+=1)if(e.indexOf(t[r])>-1){alert(n);break}},pe=function(e,t){for(var n=0;n<ue.length;n+=1)if(ue[n].hostPattern.test(t))for(var r=ue[n].checkList,o=0;o<r.length;o+=1)if(r[o].urlPattern.test(e))return r[o].replaceURL;return e},fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.href,t=e.split("?")[1];return t?t.split("&").map((function(e){var t=e.split("=");return{key:t[0],val:t[1]}})):[]},me=function(e,t,n,r){var o=fe(document.location.href),i=se[r]||[],a=t.test(e)?[n]:[];return o.map((function(e){i.indexOf(e.key)>-1&&a.push("".concat(e.key,"=").concat(e.val))})),function(e,t){var n=e.split("?"),r=n[1]?n[1].split("&"):[],o=p()(r,t);return o.length>0?"".concat(n[0],"?").concat(o.join("&")):e}(e,a)},he=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=document.body.getAttribute("data-site")||document.documentElement.getAttribute("data-site"),i="gl=".concat(o),a=/www\.viveport\.com/,c=/developer\.viveport\.com/,s="https://www.vive.com",u=ce[o]||[],l=me(e,a,i,o);return l=le(l,t,c,s),l=pe(l,t),n&&de(l,u,r),l},ve=function(e){var t=document.createElement("a");return t.href=e,t},ye=function(e,t){var n=e.split("."),r=t.split(".");return n.pop(),r.pop(),n.pop()===r.pop()},ge=function(e,t,n){if(function(e){return e.isTrusted||e.screenX&&e.screenY}(e))for(var r=e.path||e.composedPath&&e.composedPath()||function(e){for(var t=[],n=e;n;){if(t.push(n),"HTML"===n.tagName)return t.push(document),t.push(window),t;n=n.parentElement}return""}(e.target),o=0;o<r.length;o+=1){var i=r[o].tagName.toLowerCase();if("a"===i){var a=r[o].getAttribute("href");a&&r[o].setAttribute("href",he(a,document.location.host,t,n));break}if("body"===i)break}};function be(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function ke(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Se(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var we=function(){var e,t="";switch(document.location.host){case"preview-web.vive.com":case"cms.vive.com":case"origin-web.vive.com":case"www.vive.com":case"preview-developer.vive.com":case"developer-cms.vive.com":case"origin-developer.vive.com":case"developer.vive.com":case"preview-vivex.vive.com":case"vivex-cms.vive.com":case"origin-vivex.vive.com":case"vivex.vive.com":case"preview-enterprise.vive.com":case"enterprise-cms.vive.com":case"origin-enterprise.vive.com":case"enterprise.vive.com":case"preview-www.htc.com":case"cms.htc.com":case"origin-web.htc.com":case"www.htc.com":case"htc-cms.htc.com":case"preview-web.htc.com":case"myhtcstore.vive.com":case"myhtcstore.htc.com":t="prod";break;default:t=!0===(e=!1,["demo-","stage-","dev-","dev2-","dev3-"].map((function(t){document.location.host.indexOf(t)>-1&&(e=!0)})),e)?"stag":"other"}return t},Ie=new Promise((function(e,t){if("other"!==we()){!function(){switch(we()){case"prod":window.HTCAccountHost="account.htcvive.com";break;default:window.HTCAccountHost="account-stage.htcvive.com"}}();var n=document.createElement("script");document.body.appendChild(n),n.onload=e,n.onerror=t,n.async=!0,n.src="https://".concat(window.HTCAccountHost,"/htcaccount.js")}else document.querySelector(".nav20-right-content .nav20-account-info").style.display="none",document.querySelector(".nav20-main-list-content .nav20-list--right").style.display="none"})),Ae=function(){function e(t,n,r,o,i){var a=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Se(this,"myOrderLink",void 0),Se(this,"myAccountLink",void 0),Se(this,"myUserHtml",void 0),this.instance=t,this.mobileInstance=n,this.header=o,this.isInitial=!1,this.ecCartProviderApi=new re,this.buildCartHtml=this.buildCartHtml.bind(this),this.t=i||A({}),this.userInfo={isFetching:!1,isLogin:!1,FirstName:"",LastName:""},this.toggleBtn=document.createElement("div"),this.loginHtml=document.createElement("div"),this.logoutHtml=document.createElement("div"),this.toggleBtn.classList.add("nav20-toggle-btn"),this.loginHtml.classList.add("nav20-account-content"),this.logoutHtml.classList.add("nav20-account-content"),this.loginHtml.innerHTML='\n      <div class="nav20-btn-content">\n        <button type="button" aria-label="Sign in" class="nav20-btn nav20-login-button">\n          '.concat(this.t("sign-in"),"\n        </button>\n      </div>  \n    "),this.logoutHtml.innerHTML='\n      <div class="nav20-account-list">\n        <div class="nav20-account-user">\n        </div>\n        '.concat("None"!==r.myAccountLink&&r.myAccountLink?'<a class="nav20-account-item" href="'.concat(r.myAccountLink,'">\n            ').concat(this.t("my-account"),"\n          </a>"):"","\n        ").concat("None"!==r.myOrderLink&&r.myOrderLink?'<a class="nav20-account-item nav20-account-checkout" href="'.concat(r.myOrderLink,'">\n            ').concat(this.t("my-order"),"\n          </a>"):"","\n        ").concat("None"!==r.myUserHtml&&r.myUserHtml?"".concat(r.myUserHtml):"",'\n      </div>\n      <div class="nav20-btn-content">\n        <button type="button" aria-label="Sign out" class="nav20-btn nav20-logout-button">\n          ').concat(this.t("sign-out"),"\n        </button>\n      </div>  \n    "),this.mAccountTitle=document.createElement("div"),this.mLoginHtml=document.createElement("div"),this.mLogoutHtml=document.createElement("div"),this.mAccountTitle.classList.add("nav-link","account-title"),this.mLoginHtml.classList.add("nav20-link-2-content"),this.mLogoutHtml.classList.add("nav20-link-2-content"),this.mAccountTitle.innerHTML='\n      <div class="avatar"></div>\n      <div class="account-name"></div>\n    ',this.mLoginHtml.innerHTML='\n      <div class="nav20-link-2-item">\n          <a class="nav20-link-2 nav20-txt-series nav20-m-login-button"\n              href="#"\n              target=\'_self\'\n          >\n              <span>'.concat(this.t("sign-in"),"</span>\n          </a>\n      </div>\n    "),this.mLogoutHtml.innerHTML="\n      ".concat("None"!==r.myAccountLink&&r.myAccountLink?'<div class="nav20-link-2-item">\n          <a class="nav20-link-2 nav20-txt-series" href="'.concat(r.myAccountLink,'">\n            <span>').concat(this.t("my-account"),"</span>\n          </a>\n        </div>"):"","\n      ").concat("None"!==r.myOrderLink&&r.myOrderLink?'<div class="nav20-link-2-item">\n          <a class="nav20-link-2 nav20-txt-series nav20-account-checkout" href="'.concat(r.myOrderLink,'">\n              <span>').concat(this.t("my-order"),"</span>\n          </a>\n        </div>"):"","\n      ").concat("None"!==r.myUserHtml&&r.myUserHtml?"".concat(r.myUserHtml):"",'\n      <div class="nav20-link-2-item">\n        <a class="nav20-link-2 nav20-txt-series nav20-m-logout-button" href="#">\n            <span>').concat(this.t("sign-out"),"</span>\n        </a>\n      </div>\n    "),this.userIcon=this.header.querySelector(".nav20-account-info"),this.loginBtn=this.loginHtml.querySelector(".nav20-login-button"),this.logoutBtn=this.logoutHtml.querySelector(".nav20-logout-button"),this.mLoginBtn=this.mLoginHtml.querySelector(".nav20-m-login-button"),this.mLogoutBtn=this.mLogoutHtml.querySelector(".nav20-m-logout-button"),this.mLAccountName=this.header.querySelector(".nav20-link-1-item--mobile .nav20-link-1 span"),this.toggleBtn.onclick=function(){oe("account")},this.login=this.login.bind(this),this.logout=this.logout.bind(this),Ie.then((function(){var e="377c3fd9-7159-4418-b82a-beafbefb5e37";document.location.host.indexOf(".vive.com")>0&&(e="4bc0c644-abf9-4f22-abe5-446f1e84ae34"),HTCAccount.init({appid:e,scope:"email"}),a.isInitial=!0,a.userInfo.isFetching=!0,a.update(),HTCAccount.getLoginStatus((function(e){if("connected"===e.status){HTCAccount.getProfileV4(["id","accountEmail","isVerified","firstName","lastName","sendEmailAboutViveProducts","languageCode","contactEmailAddress","profilePicture"],(function(e){Object.assign(a.userInfo,e,{isLogin:!0,isFetching:!1}),a.update()}),(function(){a.userInfo.isFetching=!1,a.update()}))}else a.userInfo.isFetching=!1,a.update()})),a.loginBtn.onclick=function(){a.login()},a.logoutBtn.onclick=function(){a.logout()},a.mLoginBtn.onclick=function(){a.login()},a.mLogoutBtn.onclick=function(){a.logout()}})).catch((function(e){})),this.update()}var t,n,r;return t=e,(n=[{key:"buildCartHtml",value:function(e){be(this.header.querySelectorAll(".nav20-account-checkout")).map((function(t){t.classList.contains("linked")||(t.classList.add("linked"),t.addEventListener("click",(function(t){t.preventDefault(),window.location.href=e.checkoutURL})))}))}},{key:"login",value:function(){if(this.isInitial){var e={type:"redirect",next_url:document.location.pathname};HTCAccount.login((function(){}),e)}}},{key:"logout",value:function(){var e=this;return new Promise((function(t){var n=t.resolve;e.isInitial&&HTCAccount.logout((function(){e.userInfo.isLogin=!1,e.update(),n()}))}))}},{key:"update",value:function(){this.userInfo.isFetching?(this.instance.classList.add("is-fetching"),this.mobileInstance.classList.add("is-fetching")):(this.instance.classList.remove("is-fetching"),this.mobileInstance.classList.remove("is-fetching")),this.userInfo.isLogin?this.loginContent():this.logoutContent()}},{key:"loginContent",value:function(){var e=this.t("hi-user").replace("{firstName}",this.userInfo.firstName);this.mLAccountName.innerText=e,this.userIcon.classList.add("nav20-logged"),this.instance.contains(this.toggleBtn)||this.instance.append(this.toggleBtn),this.instance.contains(this.loginHtml)&&this.instance.removeChild(this.loginHtml),this.instance.append(this.logoutHtml),this.instance.querySelector(".nav20-account-list .nav20-account-user").innerText=e,this.mobileInstance.contains(this.mLoginHtml)&&this.mobileInstance.removeChild(this.mLoginHtml),this.mobileInstance.append(this.mLogoutHtml),this.ecCartProviderApi.getCart((function(e){}))}},{key:"logoutContent",value:function(){var e=this.t("my-account");this.mLAccountName.innerText=e,this.userIcon.classList.remove("nav20-logged"),this.instance.contains(this.toggleBtn)||this.instance.append(this.toggleBtn),this.instance.contains(this.logoutHtml)&&this.instance.removeChild(this.logoutHtml),this.instance.append(this.loginHtml),this.mobileInstance.contains(this.mLogoutHtml)&&this.mobileInstance.removeChild(this.mLogoutHtml),this.mobileInstance.append(this.mLoginHtml)}}])&&ke(t.prototype,n),r&&ke(t,r),e}();function _e(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Ce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Te=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.menuClassPath=t,this.toggleCallBack=n,this.i18n=r,this.t=r?r.t.bind(r):null,this.initMobileMenu(),this.instance=document.getElementsByTagName("header")[0],this.accountInstance=this.instance.querySelector(".nav20-desktop-menu .nav20-right-item"),this.accountMobileInstance=this.instance.querySelector(".nav20-desktop-menu .nav20-link-1-item--mobile"),this.dataArrtibute=_(this.instance),this.accountInstance&&(this.ssoLogin=new Ae(this.accountInstance,this.accountMobileInstance,this.dataArrtibute,this.instance,this.t))}var t,n,r;return t=e,(n=[{key:"initMobileMenu",value:function(){var e=function(){return window.innerWidth<992},t=document.querySelector(".js-nav20-menu-toggle-btn"),n=document.querySelector(this.menuClassPath),r=.01*window.innerHeight;document.documentElement.style.setProperty("--vh","".concat(r,"px")),window.addEventListener("resize",(function(){var e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh","".concat(e,"px"))})),3===window.location.pathname.split("/").length&&e()&&_e(n.querySelectorAll(".nav20-link-1-item")).map((function(e){"product"===e.querySelector(".nav20-link-1").pathname.split("/")[2]&&e.classList.add("selected")}));var o=function(t){if(e()){t.preventDefault();var n=t.currentTarget.parentNode.classList.contains("selected");_e(document.querySelectorAll(".nav20-link-1-item.selected")).map((function(e){e.classList.remove("selected")})),n||t.currentTarget.parentNode.classList.add("selected")}},i=document.querySelectorAll(".nav20-sub-link");i.length>0&&_e(i).map((function(e){e.addEventListener("click",o)}));var a=function(t){e()&&(t.preventDefault(),t.currentTarget.parentNode.querySelector(".nav20-link-3-content").classList.toggle("active"))},c=document.querySelectorAll(".nav20-sun-link");c.length>0&&_e(c).map((function(e){e.addEventListener("click",a)}));var s=function(e){var t=n.querySelector(".nav20-link-3-content.active");t&&t.classList.remove("active")},u=document.querySelectorAll(".nav20-sun-close");u.length>0&&_e(u).map((function(e){e.addEventListener("click",s)})),t&&(window.addEventListener("resize",(function(t){e()||n.querySelector(".nav20-center-content").classList.remove("mobile-ready")})),t.onclick=function(){n&&(oe("header-menu"),n.querySelector(".nav20-center-content").classList.add("mobile-ready"),s())}),window.addEventListener("click",(function(e){document.getElementsByTagName("header")[0].contains(e.target)&&!document.querySelector(".nav20-search-content").querySelector(".toggle-button").contains(e.target)||oe()}))}}])&&Ce(t.prototype,n),r&&Ce(t,r),e}();function Ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Le=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Ee(this,"setupFooterCategoryClick",(function(){for(var e=document.querySelectorAll(".footer .link-group"),t=function(t){var n=e[t];n.onclick=function(e){var t=e.target.getAttribute("data-url");e.target.classList.contains("link-group__title")&&null!==t&&""!==t&&"#"!==t&&"."!==t?window.location.href=t:n.classList.toggle("link-group--expanded")}},n=0;n<e.length;n+=1)t(n)})),Ee(this,"setupRegionSwitchSelector",(function(){var e=document.getElementById("language");e&&(e.onchange=function(){window.location.href="/".concat(e.value,"/")})})),this.setupFooterCategoryClick(),this.setupRegionSwitchSelector()},Oe=(n(575),n(84)),Pe=n.n(Oe),je={apiKey:"6dfc6709a0cea8e628187b9d7991f32c",appId:"DAKWH4P7PR",hitsPerPage:10,hitsPerSummary:3,descTextLimit:180},xe={vive:{searchIndicesList:["product","vivePort","blog","support","arts"],searchIndices:{vivePort:{i18nKey:"section-vive-port",isSelected:!1,hits:0,src:"viveport",version:"v1"},product:{i18nKey:"section-product",isSelected:!1,hits:0,src:"viveproduct",version:"v2"},support:{i18nKey:"section-support",isSelected:!1,hits:0,src:"vivesupport",version:"v1"},blog:{i18nKey:"section-blog",isSelected:!1,hits:0,src:"viveblog",version:"v1"},arts:{i18nKey:"section-art",isSelected:!1,hits:0,src:"arts",version:"v1"}}},viveBlog:{searchIndicesList:["blog"],searchIndices:{blog:{i18nKey:"section-blog",isSelected:!1,hits:0,src:"viveblog",version:"v1"}}},htc:{searchIndicesList:["product","magento","support"],searchIndices:{product:{i18nKey:"section-product",isSelected:!1,hits:0,src:"htcproduct",version:"v1"},support:{i18nKey:"section-support",isSelected:!1,hits:0,src:"htcsupport",version:"v1"},blog:{i18nKey:"section-blog",isSelected:!1,hits:0,src:"htcblog",version:"v1"},magento:{i18nKey:"section-magento",isSelected:!1,hits:0,src:"magento2",version:"products"}}},exodus:{searchIndicesList:["support"],searchIndices:{support:{i18nKey:"section-support",isSelected:!1,hits:0,src:"exodussupport",version:"v1"}}}},De={getUserLangLocale:{url:function(e){return"/rest/ecmapping/".concat(e["site-id"],"/locale/")},option:{method:"GET"}},searchWebContent:{url:function(e){return"https://".concat(je.appId,"-dsn.algolia.net/1/indexes/*/query")},option:{method:"POST",headers:{"x-algolia-api-key":je.apiKey,"x-algolia-application-id":je.appId}}},getSchedulerTypes:{url:function(e){return"".concat(document.location.origin,"/rest/scheduler-types/")},option:{method:"GET"}},querySchedulersList:{url:function(e){return"".concat(document.location.origin,"/rest/schedulers/")},option:{method:"GET"}},querySlugData:{url:function(e){return"".concat(document.location.origin,"/rest/product/")},option:{method:"GET"}},queryCampaignGroup:{url:function(e){return"".concat(document.location.origin,"/campaign/group/").concat(e.groupName,"/campaigns/")},option:{method:"GET"}},submitUserInfo:{url:function(e){return"https://customer-api.vive.com/infocollector/v1/collector"},option:{method:"POST",headers:{"x-api-key":"Wjcwo64WLc2AgJOdpAIBM1vH9GxQQdBR7c7jZBhH"}}},thumbup:{url:function(e){return"/rest/support/".concat(e.siteID,"/thumbup/")},option:{method:"POST",headers:{"Content-Type":"application/json"}}},comment:{url:function(e){return"https://obfs94zt33.execute-api.us-west-2.amazonaws.com/rest/support/".concat(e.siteID,"/comment/")},option:{method:"POST",headers:{"Content-Type":"application/json"}}},queryCart:{url:function(e){return"".concat(e.cart,"/api/minicart/")},option:{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}}},deleteCartItem:{url:function(e){return"".concat(e.cart,"/api/minicart/delete/product/").concat(e.pid)},option:{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"}}},getProductList:{url:function(e){return"/rest/products/"}},getProductsInfo:{url:function(e){return"".concat(e.product,"/prodinfo")},option:{method:"POST",headers:{"Content-Type":"application/json","x-api-key":"H94oUT60oAaI9flkZeu156dDq5iNvpkt6Omljw3Q"}}},getDRProductsInfo:{url:function(e){return"".concat(e.product)},option:{method:"GET",headers:{"Content-Type":"application/json"}}},getStayUpdateCountries:{url:function(e){return"/rest/stayupdate/countries/?site=".concat(e["site-id"])},option:{method:"GET"}}};function Ne(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}window.Promise||(window.Promise=Pe.a);var qe={method:"GET",headers:{},mode:"cors"},Re=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,(n=[{key:"sendRequest",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.assign({},qe,De[e].option),r=De[e].url(t);switch("getProductsInfo"===e&&(n.headers["x-api-key"]=t.productKey),n.method){case"POST":t.data&&(n.body=JSON.stringify(t.data));break;case"GET":if(t.params){var o=t.params.map((function(e){return"".concat(e.key,"=").concat(encodeURIComponent(e.value))}));r="".concat(r,"?").concat(o.join("&"))}}return new Pe.a((function(e){fetch(r,n).then((function(t){t.ok&&t.json().then((function(t){e(t)})).catch((function(e){return console.error(e)}))})).catch((function(e){return console.error(e)}))}))}}])&&Ne(t.prototype,n),r&&Ne(t,r),e}());function He(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ue=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.initStayUpdatedForm()}var t,n,r;return t=e,r=[{key:"submitUserInfo",value:function(e,t,n,r){var o={email:e,country:t,source:n,body:r};Re.sendRequest("submitUserInfo",{data:o}).then((function(e){var t=document.querySelector("#js-stay-uptodate .vive-form"),n=t.querySelector(".js-btn-submit");n.querySelector(".fa").classList.remove("fa-circle-o-notch","fa-spin"),200===e.statusCode&&(n.querySelector(".fa").classList.add("fa-check"),t.classList.add("is-subscribed"))}))}}],(n=[{key:"initStayUpdatedForm",value:function(){var t=document.getElementById("js-stay-uptodate");if(t){"true"!==t.querySelector(".container").getAttribute("keep-position")&&t.parentNode.appendChild(t);var n=t.querySelector(".form-select"),r=t.querySelector(".form-check input[type=checkbox][name=product_inform_checkbox]"),o=t.querySelector(".form-check input[type=checkbox][name=notify_me_checkbox]"),i=t.querySelector(".js-btn-submit"),a=t.querySelector("input[type=email]"),c=!!r&&"true"===r.getAttribute("initial-checked"),s=!!o&&"true"===o.getAttribute("initial-checked");r||(c=!!(r=t.querySelector(".form-check input[type=checkbox]"))&&"true"===r.getAttribute("initial-checked")),r.checked=c,o&&(o.checked=s),i.disabled=!(c||s),function(){var e=document.querySelector("#js-stay-uptodate .submit-popup-subscription-btn");e&&(e.classList.contains("modal-stay-update")&&(e.remove(),e=document.querySelector(".submit-modal-subscription-btn")),e&&e.addEventListener("click",(function(e){e.preventDefault(),document.querySelector("body").classList.add("show-popup-stay-uptodate")})));var t=document.querySelector("#js-stay-uptodate .close-popup-subscription-btn");null!==t&&t.addEventListener("click",(function(e){e.preventDefault(),document.querySelector("body").classList.remove("show-popup-stay-uptodate")}))}();var u=document.body.getAttribute("data-site")||document.documentElement.getAttribute("data-site");Re.sendRequest("getStayUpdateCountries",{"site-id":u}).then((function(e){for(var t in e.results){var r=e.results[t],o=document.createElement("option");o.setAttribute("value",r.language),o.innerText=r.display_label,n.querySelector("select").appendChild(o)}})),r&&(r.onclick=function(e){var n=t.querySelectorAll(".form-check input[type=checkbox]:checked");i.disabled=!(n.length>0)}),o&&(o.onclick=function(e){var n=t.querySelectorAll(".form-check input[type=checkbox]:checked");i.disabled=!(n.length>0)}),i.onclick=function(c){c.preventDefault();var s=a.value,u=n.querySelector("select").value,l=!1,d=!0,p="VIVE.com",f="VIVE",m="VIVE",h=t.querySelector(".scv_optin"),v=t.querySelector(".scv_purchased_products"),y=t.querySelector(".scv_newsletter"),g=document.body.getAttribute("data-site")||document.documentElement.getAttribute("data-site"),b=window.location.href,k=t.querySelector("input.scv_business_unit"),S=t.querySelector("input.scv_program");h&&r&&("VIVE"===h.value?(d=r.checked,l=!1,p="VIVE.com"):"HTC"===h.value?(l=r.checked,d=!1,p="HTC.com"):"BOTH"===h.value&&(l=r.checked,d=r.checked)),null!==v&&""!==v.value&&(m=v.value),null!==y&&(f=y.value);var w={opt_in_htc:r&&l?"TRUE":null,opt_in_vive:r&&d?"TRUE":null,opt_in_status:o&&o.checked?"TRUE":null,newsletter:f.toUpperCase(),purchased_products:m.toUpperCase(),business_unit:k?k.value.toUpperCase():null,program:S?S.value.toUpperCase():null,region:g.toUpperCase(),referral:b};C(s)?a.classList.remove("is-invalid"):a.classList.add("is-invalid"),u?n.classList.remove("is-invalid"):n.classList.add("is-invalid"),C(s)&&u&&(a.disabled=!0,n.querySelector("select").disabled=!0,i.disabled=!0,r&&(r.disabled=!0),o&&(o.disabled=!0),i.querySelector(".fa").classList.add("fa-circle-o-notch","fa-spin"),e.submitUserInfo(s,u,p,w))}}}}])&&He(t.prototype,n),r&&He(t,r),e}(),Be=n(0),Me=n.n(Be);function Fe(e){return(Fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ge(e){return(Ge=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Je(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ke(e,t){return(Ke=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var $e=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=Ge(t).call(this,e))||"object"!==Fe(o)&&"function"!=typeof o?Je(r):o).state={isDisabled:!1,isOpen:!1,selectedLabel:n.props.options[0]?n.props.options[0].label:""},n.mouseOnMenu=!1,n.menuToogle=n.menuToogle.bind(Je(n)),n.menuMouseOverToogle=n.menuMouseOverToogle.bind(Je(n)),n.clickTrigger=n.clickTrigger.bind(Je(n)),n.listItem=n.listItem.bind(Je(n)),n.setSelectedLabel=n.setSelectedLabel.bind(Je(n)),n.onChangeFn=n.onChangeFn.bind(Je(n)),n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ke(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){document.addEventListener("click",this.clickTrigger)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.clickTrigger)}},{key:"disable",value:function(){this.setState({isDisabled:!0})}},{key:"enable",value:function(){this.setState({isDisabled:!1})}},{key:"clickTrigger",value:function(){this.mouseOnMenu||this.menuToogle()}},{key:"menuToogle",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.setState({isOpen:e})}},{key:"menuMouseOverToogle",value:function(e){this.mouseOnMenu=e}},{key:"setSelectedLabel",value:function(e){var t=this.props.options.filter((function(t){return t.value===e})),n=t.length>0?t[0].label:e;this.setState({selectedLabel:n})}},{key:"listItem",value:function(e){var t=this;return o.a.createElement("li",{key:e.value,className:"dropdown-item"},o.a.createElement("div",{onClick:function(n){n.preventDefault(),t.onChangeFn(e)}},e.label))}},{key:"onChangeFn",value:function(e){this.setSelectedLabel(e.label),this.props.onChangeFn(e.value),this.menuToogle()}},{key:"render",value:function(){var e=this,t=this.props,n=t.options,r=t.iconClass,i=t.menuRender,a=this.state,c=a.isOpen,s=a.isDisabled,u=this.props.selectedLabel||this.state.selectedLabel,l=i?i(this.props,this.onChangeFn):n.map((function(t){return e.listItem(t)})),d="dropdown ".concat(c?"show":""),p="dropdown-menu ".concat(c?"show":"");return o.a.createElement("div",{className:d,onMouseOver:function(t){e.menuMouseOverToogle(!0)},onMouseOut:function(t){e.menuMouseOverToogle(!1)}},o.a.createElement("button",{type:"button",className:"btn btn-dropdown dropdown-toggle",onClick:function(t){t.preventDefault(),e.menuToogle(!c)},disabled:s},r&&o.a.createElement("i",{className:r,"aria-hidden":"true"})," ".concat(u," ")),o.a.createElement("ul",{className:p},l))}}])&&Qe(n.prototype,r),i&&Qe(n,i),t}(o.a.PureComponent);$e.defaultProps={},$e.propTypes={};var ze=$e;var Ve={articleId:"",entryPath:""},We=function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.instance=t,this.supportDetail=this.instance.querySelector(".support-detail"),this.commentPanel=this.instance.querySelector(".comment-panel"),this.supportMenu=this.instance.querySelector(".support-menu"),this.userGuideSelectBtn=this.instance.querySelector(".user-guide-select-btn");var r,i,c="undefined"!=typeof PAGEINFO?PAGEINFO:Ve,s=c.articleId,u=c.entryPath.split("/")[2],l=document.body.getAttribute("data-site")||document.documentElement.getAttribute("data-site");if(this.supportDetail){var d=this.supportDetail.querySelector(".support-menu-toogle-btn");if(document.body.classList.add("support-page"),d.onclick=function(){n.supportDetail.classList.toggle("menu-mode")},s){var p="/rest/support/".concat(l,"/view/").concat(u,"/").concat(s,"/");if(fetch(p),this.commentPanel){var f=this.commentPanel.querySelector(".btn-no"),m=this.commentPanel.querySelector(".btn-yes"),h=this.commentPanel.querySelector(".btn-submit"),v=this.commentPanel.querySelector(".comment-dialog"),y=this.commentPanel.querySelector(".comment-box"),g=this.commentPanel.querySelector(".comment-result"),b=this.commentPanel.querySelector(".comment-box textarea"),k=function(e){var t,n={method:"POST",headers:new Headers({"Content-Type":"application/json"})};switch(e){case"yes":t="/rest/support/".concat(l,"/thumbup/"),n.body=JSON.stringify({article_id:s,product:u});break;case"comment":t="https://obfs94zt33.execute-api.us-west-2.amazonaws.com/rest/support/".concat(l,"/comment/"),n.body=JSON.stringify({article_id:s,comment:b.value,product:u})}fetch(t,n)};f.onclick=function(){v.classList.remove("d-flex"),v.classList.add("d-none"),y.classList.remove("d-none")},m.onclick=function(){v.classList.remove("d-flex"),v.classList.add("d-none"),g.classList.remove("d-none"),k("yes")},h.onclick=function(){y.classList.add("d-none"),g.classList.remove("d-none"),k("comment")}}}}if(this.supportMenu)for(var S=this.supportMenu.querySelectorAll(".nav-link"),w=(this.supportMenu.querySelectorAll(".accordion"),function e(t){t.classList.contains("support-menu")||(t.classList.contains("accordion")&&t.classList.add("active"),e(t.parentNode))}),I=0;I<S.length;I+=1){var A=(r=S[I].href,i=void 0,{articleId:(i=r.replace(".html","").split("/"))[i.length-1],product:i[i.length-3]});if(A.product===u&&A.articleId===s){S[I].classList.add("active"),w(S[I].parentNode);break}}"undefined"!=typeof USERGUIDE&&this.userGuideSelectBtn&&USERGUIDE.options.length>0&&a.a.render(o.a.createElement(ze,{selectedLabel:USERGUIDE.name,options:USERGUIDE.options,onChangeFn:function(e){console.log(e),window.open("".concat(e))}}),this.userGuideSelectBtn)},Ye=n(181),Xe=function(e){var t={};if(e)for(var n=e.attributes,r=0;r<n.length;r+=1){var o=n[r],i=o.nodeName,a=o.nodeValue;i&&i.indexOf("lng-")>-1&&(t[i.replace("lng-","")]=a)}var c={en:{translation:t}};return Ye.a.use(s.b).init({lng:"en",fallbackLng:"en",resources:c,interpolation:{escapeValue:!1}}),Ye.a},Ze=n(290),et=n(16),tt=n.n(et),nt=n(97),rt=(n(582),n(291)),ot=n(641),it=tt.a.fromJS({isFetching:!1,list:[],groupName:""}),at=Object(ot.a)({UPDATE_CAMPAIGNS_LIST:function(e,t){var n=t.payload;return e.set("list",tt.a.fromJS(n))},UPDATE_CAMPAIGNS_GROUP_NAME:function(e,t){var n=t.payload;return e.set("groupName",tt.a.fromJS(n))},START_FETCH_CAMPAIGN_DATA:function(e){return e.set("isFetching",!0)},STOP_FETCH_CAMPAIGN_DATA:function(e){return e.set("isFetching",!1)}},it),ct=tt.a.fromJS({siteGTM:"",siteID:"",siteInfo:{siteId:"",locale:"",fiterCountry:"",countryName:"",currency:"",themeId:0,cartProviderType:"",storeLocale:"",ecLocale:"",miniCartApiLink:""},userLangLocale:""}),st=Object(ot.a)({UPDATE_SITE_GTM:function(e,t){var n=t.payload;return e.set("siteGTM",n)},UPDATE_SITE_ID:function(e,t){var n=t.payload;return e.set("siteID",n)},UPDATE_SITE_INFO:function(e,t){var n=t.payload;return e.set("siteInfo",tt.a.fromJS(n))},UPDATE_USER_LANG_LOCALE:function(e,t){var n=t.payload;return e.set("userLangLocale",n)}},ct);function ut(e){return(ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dt(e){return(dt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ft(e,t){return(ft=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var mt=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=dt(t).call(this,e))||"object"!==ut(o)&&"function"!=typeof o?pt(r):o).title="選擇您的地區",n.setCountryData=n.setCountryData.bind(pt(n)),n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ft(e,t)}(t,e),n=t,(r=[{key:"setCountryData",value:function(e){if(this.props.modalClose(),e["fiter-country"]!==this.props.siteInfo.fiterCountry){var t={siteId:e["site-id"],locale:e.locale,fiterCountry:e["fiter-country"],countryName:e.countryName,currency:e.currency,themeId:e["theme-id"],cartProviderType:e["cart-provider-type"],storeLocale:e["store-locale"],ecLocale:e["ec-locale"]};this.props.setCountryData({siteInfo:t,isSelectorClick:!0})}}},{key:"render",value:function(){var e=this,t=this.props.countrySelectorData;return o.a.createElement("div",{className:"ec-select-country"},o.a.createElement("div",{className:"content-block"},o.a.createElement("div",{className:"contry-list-block"},o.a.createElement("div",{className:"select-your-country"},o.a.createElement("h2",null,this.title)),o.a.createElement("div",{className:"country-list"},Object.keys(t).map((function(n){return o.a.createElement("div",{key:t[n]["fiter-country"],role:"presentation",className:"flex-item",onClick:function(){e.setCountryData(t[n])}},o.a.createElement("span",null,t[n].countryName))}))))))}}])&&lt(n.prototype,r),i&&lt(n,i),t}(o.a.Component);mt.propTypes={countrySelectorData:Me.a.shape(Me.a.shape({accessory:Me.a.string.isRequired,countryName:Me.a.string.isRequired,currency:Me.a.string.isRequired,"fiter-country":Me.a.string.isRequired,locale:Me.a.string.isRequired,"outer-link":Me.a.string.isRequired,"site-id":Me.a.string.isRequired,"theme-id":Me.a.string.isRequired}).isRequired).isRequired,modalClose:Me.a.func.isRequired,setCountryData:Me.a.func.isRequired,siteInfo:Me.a.shape().isRequired};var ht=mt,vt=n(642),yt=Object(vt.a)("UPDATE_SITE_GTM"),gt=Object(vt.a)("UPDATE_SITE_ID"),bt=Object(vt.a)("UPDATE_SITE_INFO"),kt=Object(vt.a)("UPDATE_USER_LANG_LOCALE"),St=(Object(vt.a)("MODAL_OPEN"),Object(vt.a)("MODAL_CLOSE")),wt=Object(vt.a)("SET_SELECTED_INDICES"),It=Object(vt.a)("UPDATE_QUERY_STRING"),At=Object(vt.a)("UPDATE_CURRENT_QUERY_STRING"),_t=Object(vt.a)("UPDATE_SEARCH_STATISTICS"),Ct=Object(vt.a)("SHOW_SEARCH_INPUT"),Tt=Object(vt.a)("HIDE_SEARCH_INPUT"),Et=Object(vt.a)("OPEN_DROPDOWN_MENU"),Lt=Object(vt.a)("CLOSE_DROPDOWN_MENU"),Ot=Object(vt.a)("UPDATE_SEARCH_INDEXES"),Pt=Object(vt.a)("CART_START_FETCHING"),jt=(Object(vt.a)("CART_STOP_FETCHING"),Object(vt.a)("HIDE_CART_LIST"),Object(vt.a)("SHOW_CART_LIST"),Object(vt.a)("UPDATE_CART_LIST"),Object(vt.a)("START_UPDATE_STATUS")),xt=(Object(vt.a)("STOP_UPDATE_STATUS"),Object(vt.a)("ADD_PRODUCT_COUNT"),Object(vt.a)("UPDATE_PRODUCT_DONE"),Object(vt.a)("UPDATE_COUNTRY_SELECTOR_DATA")),Dt=function(e){return function(t,n){var r=n().getIn(["cmsCookie","siteID"]),o=e.siteInfo.siteId;t(bt(e.siteInfo)),t(r!==o?function(e,t){var n=t().getIn(["shoppingCart","miniCartData"]).toJS().items,r=n.length;r>0?(e(Pt()),n.map((function(t){return Re.sendRequest("removeItemFromCart",{pID:t.id}).then((function(){0==(r-=1)&&e(jt())})),!0}))):e(jt())}:jt()),e.isSelectorClick&&(window.location.href=window.location.href.replace("/".concat(r,"/"),"/".concat(o,"/")))}};function Nt(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function qt(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Nt(i,r,o,a,c,"next",e)}function c(e){Nt(i,r,o,a,c,"throw",e)}a(void 0)}))}}var Rt,Ht={getProductInfo:(Rt=qt(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Re.sendRequest("getProductsInfo",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(e){return Rt.apply(this,arguments)})},Ut=function(e){return new Pe.a(function(){var t=qt(regeneratorRuntime.mark((function t(n){var r,o,i,a,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=T()[0]||{},o=[{key:"productId",value:e.data.pids.join(",")},{key:"apiKey",value:e.productKey},{key:"format",value:"json"},{key:"expand",value:"All"}],r.ec_locale&&o.push({key:"locale",value:r.ec_locale}),r.currency&&o.push({key:"currency",value:r.currency}),i=e.product,t.next=7,Re.sendRequest("getDRProductsInfo",{params:o,product:i});case 7:a=t.sent,c=[],a.products.product.forEach((function(e,t){var n=0,r="",o="$ 0";e.pricing&&(e.pricing.formattedListPrice.includes("€")?(n=e.pricing.listPrice.value,r="€"):e.pricing.formattedListPrice.includes("Kr")?(n=e.pricing.listPrice.value,r="Kr"):(n=e.pricing.listPrice.value,r=e.pricing.formattedListPrice[0]),o=e.pricing.formattedListPrice),c.push({pid:e.id,price:n,currency:r,formattedListPrice:o})})),n(c);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())};new function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.store=T()[0]||{},this.ecLocal=this.store.ec_locale||"",this.cartProviderType=this.store.cart_provider_type||"",this.cartProviderType.includes("DIGITAL_RIVER")?this.getProductInfo=Ut:this.getProductInfo=Ht.getProductInfo};function Bt(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function Mt(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Bt(i,r,o,a,c,"next",e)}function c(e){Bt(i,r,o,a,c,"throw",e)}a(void 0)}))}}Object(vt.a)("START_TO_UPDATE"),Object(vt.a)("END_TO_UPDATE");var Ft=Object(vt.a)("ADD_SLUG_DATA"),Qt=Object(vt.a)("UPDATE_SLUG_DATA"),Gt=Object(vt.a)("ADD_EC_PID_LIST"),Jt=Object(vt.a)("ADD_EC_PRODUCT_INFO_LIST"),Kt=function(){var e=Mt(regeneratorRuntime.mark((function e(){var t,n,r,o,i,a,c=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=c.length>0&&void 0!==c[0]?c[0]:[],n=c.length>1?c[1]:void 0,r=E()||{},o=r.miniCartApiLink.getProduct||"",i=r.miniCartApiLink.key||"",a=[],!(r&&o&&i)){e.next=10;break}return e.next=9,fetch(o,{headers:{"x-api-key":i,"Content-Type":"application/json"},method:"POST",body:JSON.stringify({storecode:r.ecLocale,pids:t})}).then((function(e){return e.json()})).catch((function(e){return console.error("Error:",e)})).then((function(e){var t=!0,r=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(t=(i=c.next()).done);t=!0){var s=i.value;a.push(s)}}catch(e){r=!0,o=e}finally{try{t||null==c.return||c.return()}finally{if(r)throw o}}n(a)}));case 9:e.sent;case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$t=function(){return function(e,t){for(var n=document.querySelectorAll("*[data-slug]"),r=[],o=0;o<n.length;o+=1){var i=n[o];i.getAttribute("data-slug")&&r.push(i.getAttribute("data-slug"))}e(Ft(r)),e(zt())}},zt=function(){return function(e,t){var n=t().getIn(["cmsCookie","userLangLocale"]),r=[{key:"store_locale",value:n}];n&&Re.sendRequest("querySlugData",{params:r}).then((function(t){if(t.results.length>0){e(Qt(t.results));var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t.results[Symbol.iterator]();!(r=(a=c.next()).done);r=!0){var s=a.value,u=!0,l=!1,d=void 0;try{for(var p,f=s.sku[Symbol.iterator]();!(u=(p=f.next()).done);u=!0){var m=p.value;n.push(m)}}catch(e){l=!0,d=e}finally{try{u||null==f.return||f.return()}finally{if(l)throw d}}}}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}e(Gt(n));Kt(n,(function(t){e(Jt(t))}));"undefined"!=typeof accessory&&accessory.init()}}))}},Vt=function(){return function(e,t){var n=t().getIn(["scheduler","isFetching"]),r=t().getIn(["scheduler","queryCondition"]).toJS();n||e(Xt());var o=new Date,i=[{key:"sort",value:"-release_date,id"},{key:"start_release_date",value:new Date(o.getFullYear(),o.getMonth()-3).getTime()},{key:"end_release_date",value:new Date(o.getFullYear(),o.getMonth()+4).getTime()}];v()(r,(function(e,t){e&&i.push({key:t,value:e})})),Re.sendRequest("querySchedulersList",{params:i.length>0?i:null}).then((function(t){e(Yt(t.results)),e(Zt())}))}},Wt=Object(vt.a)("UPDATE_SCHEDULER_TYPES"),Yt=Object(vt.a)("UPDATE_SCHEDULERS_LIST"),Xt=Object(vt.a)("START_FETCH_DATA"),Zt=Object(vt.a)("STOP_FETCH_DATA"),en=Object(vt.a)("UPDATE_QUERY_CONDITION"),tn=Object(c.b)((function(e){return{countrySelectorData:e.getIn(["countrySelector","countrySelectorData"]),siteInfo:e.getIn(["cmsCookie","siteInfo"])}}),(function(e){return{modalClose:function(){return e(St())},setCountryData:function(t){return e(Dt(t))}}}))(ht),nn=tt.a.fromJS({modalIsOpen:!1,childComponent:o.a.createElement(tn,null)}),rn=Object(ot.a)({MODAL_OPEN:function(e,t){var n=t.payload,r=e.get("childComponent").merge(n);return e.set("modalIsOpen",!0).set("childComponent",r)},MODAL_CLOSE:function(e){return e.set("modalIsOpen",!1)}},nn),on=tt.a.fromJS({isSearchInputShow:!1,isDropdownMenuOpen:!1,queryString:"",currentQueryString:"",selectedIndex:"All",totalHits:0,searchIndices:{},searchIndicesList:[],searchParameters:je}),an=Object(ot.a)({SET_SELECTED_INDICES:function(e,t){var n=t.payload,r=e.get("searchIndices").toJS(),o=e.get("searchIndicesList").toJS(),i=o[0];return o.length>1&&(i=r[n]?n:"All"),Object.keys(r).map((function(e){return r[e].isSelected=e===i,!0})),e.set("searchIndices",tt.a.fromJS(r)).set("selectedIndex",i)},SHOW_SEARCH_INPUT:function(e){return e.set("isSearchInputShow",!0)},HIDE_SEARCH_INPUT:function(e){return e.set("isSearchInputShow",!1).set("isDropdownMenuOpen",!1)},OPEN_DROPDOWN_MENU:function(e){return e.set("isDropdownMenuOpen",!0)},CLOSE_DROPDOWN_MENU:function(e){return e.set("isDropdownMenuOpen",!1)},UPDATE_QUERY_STRING:function(e,t){var n=t.payload;return e.set("queryString",n)},UPDATE_CURRENT_QUERY_STRING:function(e,t){var n=t.payload,r=e.get("queryString"),o=e.get("searchIndices").toJS(),i=e.get("searchIndicesList").toJS(),a=i[0];return i.length>1&&(a=o[n]?n:"All"),Object.keys(o).map((function(e){return o[e].isSelected=e===a,!0})),e.set("currentQueryString",r).set("searchIndices",tt.a.fromJS(o)).set("selectedIndex",a)},UPDATE_SEARCH_STATISTICS:function(e,t){var n=t.payload,r=e.get("searchIndices").toJS(),o=0;return Object.keys(r).map((function(e){return n.indexName===e&&(r[e].hits=n.hits),o+=r[e].hits,!0})),e.set("searchIndices",tt.a.fromJS(r)).set("totalHits",o)},UPDATE_SEARCH_INDEXES:function(e,t){var n=t.payload,r=tt.a.fromJS(n.searchIndices),o=tt.a.fromJS(n.searchIndicesList);return e.set("searchIndices",r).set("searchIndicesList",o)}},on),cn=tt.a.fromJS({countrySelectorData:{}}),sn=Object(ot.a)({UPDATE_COUNTRY_SELECTOR_DATA:function(e,t){var n=t.payload;return e.set("countrySelectorData",n)}},cn),un=tt.a.fromJS({slugList:[],slugData:{},ecPidList:[],ecProductInfoList:[]}),ln=Object(ot.a)({ADD_SLUG_DATA:function(e,t){var n=t.payload,r=p()(e.get("slugList"),n);return e.set("slugList",r)},UPDATE_SLUG_DATA:function(e,t){var n=t.payload,r=e.get("slugData").toJS();return n.map((function(e){r[e.slug]=e})),e.set("slugData",tt.a.fromJS(r))},ADD_EC_PID_LIST:function(e,t){var n=t.payload,r=p()(e.get("ecPidList"),n);return e.set("ecPidList",r)},ADD_EC_PRODUCT_INFO_LIST:function(e,t){var n=t.payload,r=p()(e.get("ecProductInfoList"),n);return e.set("ecProductInfoList",r)}},un),dn=tt.a.fromJS({list:[],types:[],queryCondition:{sites:"",title:"",type:"",limit:"10",offset:"0"}}),pn=Object(ot.a)({UPDATE_SCHEDULERS_LIST:function(e,t){var n=t.payload;return e.set("list",tt.a.fromJS(n))},UPDATE_SCHEDULER_TYPES:function(e,t){var n=t.payload;return e.set("types",tt.a.fromJS(n))},START_FETCH_DATA:function(e){return e.set("isFetching",!0)},STOP_FETCH_DATA:function(e){return e.set("isFetching",!1)},UPDATE_QUERY_CONDITION:function(e,t){var n=t.payload,r=Object.assign({},e.get("queryCondition").toJS(),n);return e.set("queryCondition",tt.a.fromJS(r))}},dn),fn=Object(rt.combineReducers)({campaignGroup:at,cmsCookie:st,cmsModal:rn,cmsSearch:an,countrySelector:sn,product:ln,scheduler:pn});var mn=tt.a.Map(),hn=nt.c,vn=[Ze.a];var yn,gn=Object(nt.d)(fn,mn,hn(nt.a.apply(void 0,function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(yn=vn)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(yn)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()))),bn=n(292),kn=n.n(bn);function Sn(e){return(Sn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function In(e,t){return!t||"object"!==Sn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function An(e){return(An=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _n(e,t){return(_n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Cn=o.a.Fragment,Tn=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),In(this,An(t).call(this,e))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_n(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){this.props.getSchedulerTypes()}},{key:"render",value:function(){var e=this.props,t=e.types,n=e.list,r=(e.isFetching,e.userLangLocale),i=e.t,a={rtl:"rtl"===document.dir,dots:!0,infinite:!1,speed:500,slidesToShow:4,slidesToScroll:4,responsive:[{breakpoint:1024,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:768,settings:{slidesToShow:1,slidesToScroll:1}}]};return r&&(r.indexOf("zh")>-1?r.replace("_","-"):r.split("_")[0]),o.a.createElement("div",{className:"container container--center"},n.length>0&&o.a.createElement(Cn,null,o.a.createElement("h3",{className:"heading h-text-align--center"},i("new-releases")),o.a.createElement(kn.a,a,n.map((function(e){var n={};t.map((function(t){t.id!==e.type&&0!==t.id||(n=t)}));var r="app-type ".concat(n.name),a=new Date(parseInt(e.release_date)).toString().split(" ");return o.a.createElement("div",{className:"single-scheduler",key:e.id},o.a.createElement("label",{className:"app-date"},"".concat(a[1]," ").concat(parseInt(a[2]))),o.a.createElement("a",{href:e.link},o.a.createElement("figure",null,o.a.createElement("img",{className:"app-cover-img",src:e.cover_img_url}),parseInt(n.id)>0&&o.a.createElement("figcaption",{className:r},i(n.name)))),o.a.createElement("label",{className:"app-title"},e.title))})))))}}])&&wn(n.prototype,r),i&&wn(n,i),t}(o.a.Component);Tn.defaultProps={t:A({"view-more":"View more"})},Tn.propTypes={t:Me.a.func};var En=Tn,Ln=Object(c.b)((function(e){return{types:e.getIn(["scheduler","types"]).toJS(),list:e.getIn(["scheduler","list"]).toJS(),isFetching:e.getIn(["scheduler","isFetching"]),userLangLocale:e.getIn(["cmsCookie","userLangLocale"])}}),(function(e){return{getSchedulerTypes:function(){return e((function(e,t){t().getIn(["scheduler","isFetching"])||e(Xt()),Re.sendRequest("getSchedulerTypes",{}).then((function(t){e(Wt(t.results)),e(Vt())}))}))},querySchedulersList:function(){return e(Vt())}}}))(Object(s.c)()(En)),On=n(293),Pn=n.n(On),jn=n(53),xn=n(132);"undefined"==typeof dataLayer&&(window.dataLayer=[]);var Dn=function(e,t,n,r){dataLayer.push({event:e,eventCategory:t,eventAction:n,eventLabel:r})};function Nn(e){return(Nn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Hn(e,t){return!t||"object"!==Nn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Un(e){return(Un=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Bn(e,t){return(Bn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Mn=o.a.Fragment,Fn=Object(xn.connectHighlight)((function(e){for(var t=(0,e.highlight)({attribute:e.attribute,hit:e.hit,highlightProperty:"_highlightResult"}),n=t.length>1,r=[],i=[],a=0,c=!1,s=0;s<t.length;s+=1){var u=t[s].value||"";u=u.replace(/(\r\n|\n|\r)/gm,"").replace(/(\s{2,})/gm," ").replace(/<(?:.|\n)*?>/gm,"").trim(),c=c||t[s].isHighlighted||!n;var l=je.descTextLimit-a>3?je.descTextLimit-a:3,d=!t[s].isHighlighted&&u.length>=l&&c?"".concat(u.slice(0,l-3),"..."):u;if(a+=d.length,r.push(t[s]),i.push(t[s].isHighlighted?o.a.createElement("mark",null,d):d),a>=je.descTextLimit&&c&&!t[s].isHighlighted)break}if(a>je.descTextLimit&&"string"==typeof i[0]){var p=je.descTextLimit-(a-i[0].length),f=i[0].length;i[0]=i[0].slice(f-p,f)}return o.a.createElement("p",null,i.map((function(e,t){return o.a.createElement(Mn,{key:t},e)})))})),Qn=function(e){function t(){return qn(this,t),Hn(this,Un(t).apply(this,arguments))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Bn(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props.hit,t=e.img||e.image||e.og_image||e.image_url||"",n=e.url,r=e.desc||e.description,i=e.description?"description":"desc";n.includes("//origin-www.")&&(n=n.replace("//origin-www.","//www.")),n.includes("//origin-web.")&&(n=n.replace("//origin-web.","//www.")),n.includes("//awsorigin.")&&(n=n.replace("//awsorigin.","//www.")),t.length>0&&!/\.(gif|jpg|jpeg|tiff|png)$/i.test(t)&&!t.includes("/sharing/")&&(t="/static/images/no-image.png");var a=ve(n),c=ye(a.hostname,location.hostname)?"_self":"_blank",s="";return e.price&&Object.keys(e.price).forEach((function(t){var n=e.price[t].default_formated,r=e.price[t].default;void 0!==n&&void 0!==r&&r>0&&(s=n)})),o.a.createElement("div",{className:"single-result"},t&&o.a.createElement("a",{href:n,target:c,onClick:function(){Dn("click-event","vive-search","view-single-result-link","".concat(n))},className:"img-link"},o.a.createElement("div",{className:"img",style:{backgroundImage:"url(".concat(t,")")}})),o.a.createElement("div",{className:"description"},o.a.createElement("a",{href:n,target:c,onClick:function(){Dn("click-event","vive-search","view-single-result-link","".concat(n))}},o.a.createElement("h4",null,e.title&&o.a.createElement(jn.Highlight,{attribute:"title",hit:e}),e.name&&o.a.createElement(jn.Highlight,{attribute:"name",hit:e})),""!==s&&o.a.createElement("div",{className:"txt-disclaimer"},s),r&&o.a.createElement(Fn,{attribute:i,hit:e,key:(new Date).getTime()}),!r&&e.short_description&&o.a.createElement(Fn,{attribute:"short_description",hit:e,key:(new Date).getTime()}))))}}])&&Rn(n.prototype,r),i&&Rn(n,i),t}(o.a.PureComponent);Qn.propTypes={};var Gn=Qn,Jn=function(e){var t=e.buttonClassName,n=e.buttonLink,r=e.buttonType,i=e.buttonName,a=e.clickFun,c=e.isDisabled;switch(r){case"link":return o.a.createElement("a",{className:t,href:n},i);default:return o.a.createElement("button",{className:t,disabled:c,onClick:function(){"button"===r?a():location.assign(n)},tabIndex:"0"},i)}};Jn.defaultProps={buttonClassName:"btn btn-vive",buttonLink:"#",buttonName:"Button",buttonType:"button",isDisabled:!1,clickFun:null},Jn.propTypes={buttonClassName:Me.a.string,buttonLink:Me.a.string,buttonType:Me.a.string,buttonName:Me.a.string,isDisabled:Me.a.bool,clickFun:Me.a.func};var Kn=Jn;function $n(e){return($n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vn(e){return(Vn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Wn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yn(e,t){return(Yn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Xn=o.a.Fragment,Zn={refine:"Refine","section-all":"All"},er=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=Vn(t).call(this,e))||"object"!==$n(o)&&"function"!=typeof o?Wn(r):o).clickToSetIndcies=n.clickToSetIndcies.bind(Wn(n)),n.setMenuToogle=n.setMenuToogle.bind(Wn(n)),n.state={menuToogle:!1,results:{}},n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Yn(e,t)}(t,e),n=t,(r=[{key:"setMenuToogle",value:function(){this.setState({menuToogle:!this.state.menuToogle})}},{key:"clickToSetIndcies",value:function(e){this.setState({menuToogle:!1}),e!==this.props.selectedIndex&&(Dn("click-event","vive-search","switch-to-specified-category","".concat(e,"-").concat(this.props.currentQueryString)),this.props.setSelectedIndices(e))}},{key:"render",value:function(){var e,t=this,n=this.props,r=n.currentQueryString,i=n.searchIndices,a=n.searchIndicesList,c=n.selectedIndex,s=n.showSearchInput,u=n.totalHits,l=n.i18n,d=l?l.t.bind(l):this.props.t,p="All"!==c&&i[c]?i[c].hits:u;e="All"!==c&&i[c]?i[c].displayName?d(i[c].displayName):d(i[c].i18nKey):d("section-all");var f="search-indcies ".concat(this.state.menuToogle?"menu-is-open":"menu-is-close"),m="selected-section-index fa ".concat(this.state.menuToogle?"fa-angle-up":"fa-angle-down");return o.a.createElement("div",{className:f},o.a.createElement("div",{className:"search-stats"},d("result-for",{count:p,cat:d(e)})," ",o.a.createElement("span",{className:"search-sction"},'"'.concat(r,'"')),a.length>1&&o.a.createElement(Kn,{buttonName:d("refine"),clickFun:function(){s()},buttonClassName:"refine-search-button"})),a.length>1&&o.a.createElement(Xn,null,o.a.createElement("div",{className:m,onClick:this.setMenuToogle,role:"presentation"},o.a.createElement("span",{className:"index-name"},e),o.a.createElement("span",{className:"index-hits"},"(",p,")")),o.a.createElement("ul",null,o.a.createElement("li",{className:"All"===c?"search-index selected-index":"search-index"},o.a.createElement("div",{onClick:function(){t.clickToSetIndcies("All")},role:"presentation"},d("section-all")," (",u,")")),a.map((function(e){console.log("sIndex=",e);var n=i[e].isSelected?"search-index selected-index":"search-index";return o.a.createElement("li",{key:e,className:n},o.a.createElement("div",{onClick:function(){t.clickToSetIndcies(e)},role:"presentation"},i[e].displayName||d(i[e].i18nKey)," (",i[e].hits,")"))})))))}}])&&zn(n.prototype,r),i&&zn(n,i),t}(o.a.Component);er.defaultProps={totalHits:0,t:function(e){return Zn[e]?Zn[e]:e}},er.propTypes={currentQueryString:Me.a.string.isRequired,searchIndices:Me.a.objectOf(Me.a.object).isRequired,searchIndicesList:Me.a.arrayOf(Me.a.string).isRequired,selectedIndex:Me.a.string.isRequired,setSelectedIndices:Me.a.func.isRequired,showSearchInput:Me.a.func.isRequired,totalHits:Me.a.number,t:Me.a.func};var tr=er;function nr(e){return(nr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function or(e){return(or=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ir(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ar(e,t){return(ar=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var cr=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=or(t).call(this,e))||"object"!==nr(o)&&"function"!=typeof o?ir(r):o).updateStatistics=n.updateStatistics.bind(ir(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ar(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){this.updateStatistics(this.props.nbHits)}},{key:"componentWillReceiveProps",value:function(e){this.props.nbHits!==e.nbHits&&this.updateStatistics(e.nbHits)}},{key:"updateStatistics",value:function(e){var t={indexName:this.props.indexName,hits:e};this.props.updateSearchStatistics(t)}},{key:"render",value:function(){return null}}])&&rr(n.prototype,r),o&&rr(n,o),t}(o.a.Component);cr.propTypes={nbHits:Me.a.number.isRequired,indexName:Me.a.string.isRequired,updateSearchStatistics:Me.a.func.isRequired};var sr=cr;function ur(e){return(ur="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lr(){return(lr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function dr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fr(e,t,n){return t&&pr(e.prototype,t),n&&pr(e,n),e}function mr(e,t){return!t||"object"!==ur(t)&&"function"!=typeof t?hr(e):t}function hr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vr(e){return(vr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function yr(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gr(e,t)}function gr(e,t){return(gr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var br=function(e){function t(e){var n,r;return dr(this,t),(n=mr(this,vr(t).call(this,e))).siteArray=["us","cn","tw"],n.setInitialQueryString=n.setInitialQueryString.bind(hr(n)),n.updateStatistics=n.updateStatistics.bind(hr(n)),n.searchStatsCompoment=Object(xn.connectStats)((r=n.updateStatistics,function(e){function t(e){return dr(this,t),mr(this,vr(t).call(this,e))}return yr(t,e),fr(t,[{key:"render",value:function(){return o.a.createElement(sr,lr({updateSearchStatistics:r},this.props))}}]),t}(o.a.Component))),n}return yr(t,e),fr(t,[{key:"componentDidMount",value:function(){this.setInitialQueryString()}},{key:"updateStatistics",value:function(e){this.props.updateSearchStatistics(e)}},{key:"setInitialQueryString",value:function(){var e=this.props,t=e.updateQueryString,n=e.updateCurrentQueryString,r=fe(document.location.search),o="";r.map((function(e){if("q"===e.key){var n=decodeURIComponent(e.val);t(n)}return"section"===e.key&&(o=decodeURIComponent(e.val)),!0})),n(o)}},{key:"composeSearchIndexName",value:function(e,t,n){var r=t;return("viveblog"===e&&this.siteArray.indexOf(t)<0||"htcblog"===e)&&(r="us"),"htcsupport"===e&&"my-en"===t&&(r="sea"),"htcsupport"===e&&"sa"===t&&(r="mea-sa"),e.startsWith("cms.")||"0"==n?"".concat(e):"".concat(e,"_").concat(r,"_").concat(n)}},{key:"searchSectionContent",value:function(e){var t,n=this.props,r=n.currentQueryString,i=n.searchIndices,a=n.searchParameters,c=n.selectedIndex,s=n.setSelectedIndices,u=n.siteID,l=n.i18n,d=(n.updateSearchStatistics,l?l.t.bind(l):this.props.t),p=i[e],f=p.src,m=p.version,h=p.tags,v=this.composeSearchIndexName(f,u,m),y=this.searchStatsCompoment,g=0;if("All"===c){if(g=3,i[e].hits>0){t=o.a.createElement("section",null,o.a.createElement("h3",null,i[e].displayName||d(i[e].i18nKey)),o.a.createElement(jn.Hits,{hitComponent:Gn}),i[e].hits>3&&o.a.createElement(Kn,{buttonName:d("view-more",{count:i[e].hits-3}),clickFun:function(){Dn("click-event","vive-search","view-more-results","".concat(e,"-").concat(r.toLowerCase())),s(e),window.scrollTo(0,0)},buttonClassName:"btn btn-primary view-more-button"}))}}else i[e].isSelected&&(g=a.hitsPerPage,t=o.a.createElement("section",null,o.a.createElement(jn.Hits,{hitComponent:Gn}),i[e].hits>g&&o.a.createElement("div",{className:"text-center"},o.a.createElement(jn.Pagination,null))));var b="";return h&&"0"!==h&&(b=h),o.a.createElement(jn.Index,{key:e,indexId:e,indexName:v},o.a.createElement(jn.Configure,{filters:b,hitsPerPage:g,query:r}),o.a.createElement(y,{indexName:e}),t)}},{key:"render",value:function(){var e=this,t=this.props,n=t.isSearchInputShow,r=t.searchIndices,i=t.searchIndicesList,a=t.searchParameters,c=t.selectedIndex,s=t.siteID,u=t.totalHits,l=t.currentQueryString,d=t.setSelectedIndices,p=t.showSearchInput,f=t.updateQueryString,m=t.i18n,h="";if(i.length>0){var v=r[c]||r[i[0]],y=v.src,g=v.version;h=this.composeSearchIndexName(y,s,g)}var b="search-results ".concat(n?"is-search-input-show":""),k=Pn()(a.appId,a.apiKey);return o.a.createElement(jn.InstantSearch,{searchClient:k,indexName:h},o.a.createElement(tr,{currentQueryString:l,searchIndices:r,searchIndicesList:i,searchParameters:a,selectedIndex:c,totalHits:u,setSelectedIndices:d,showSearchInput:p,updateQueryString:f,i18n:m}),o.a.createElement("div",{className:b},i.map((function(t){return e.searchSectionContent(t)}))))}}]),t}(o.a.Component);br.defaultProps={t:A({"view-more":"View more"}),updateQueryString:null,updateCurrentQueryString:null},br.propTypes={currentQueryString:Me.a.string.isRequired,isSearchInputShow:Me.a.bool.isRequired,searchIndices:Me.a.objectOf(Me.a.object).isRequired,searchIndicesList:Me.a.arrayOf(Me.a.string).isRequired,searchParameters:Me.a.shape({apiKey:Me.a.string,appId:Me.a.string,hitsPerPage:Me.a.number,hitsPerSummary:Me.a.number,descTextLimit:Me.a.number}).isRequired,selectedIndex:Me.a.string.isRequired,setSelectedIndices:Me.a.func.isRequired,siteID:Me.a.string.isRequired,t:Me.a.func,updateQueryString:Me.a.func,updateCurrentQueryString:Me.a.func};var kr=br,Sr=Object(c.b)((function(e){return{currentQueryString:e.getIn(["cmsSearch","currentQueryString"]),isSearchInputShow:e.getIn(["cmsSearch","isSearchInputShow"]),searchIndices:e.getIn(["cmsSearch","searchIndices"]).toJS(),searchIndicesList:e.getIn(["cmsSearch","searchIndicesList"]).toJS(),searchParameters:e.getIn(["cmsSearch","searchParameters"]).toJS(),selectedIndex:e.getIn(["cmsSearch","selectedIndex"]),siteID:e.getIn(["cmsCookie","siteID"]),totalHits:e.getIn(["cmsSearch","totalHits"])}}),(function(e){return{setSelectedIndices:function(t){return e(wt(t))},updateQueryString:function(t){return e(It(t))},updateCurrentQueryString:function(t){return e(At(t))},updateSearchStatistics:function(t){return e(_t(t))},showSearchInput:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return e(showSearchInput())}))}}))(Object(s.c)()(kr));function wr(e){return(wr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ir(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ar(e){return(Ar=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Cr(e,t){return(Cr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Tr=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=Ar(t).call(this,e))||"object"!==wr(o)&&"function"!=typeof o?_r(r):o).clickFun=n.clickFun.bind(_r(n)),n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Cr(e,t)}(t,e),n=t,(r=[{key:"clickFun",value:function(){"button"===this.props.buttonType?this.props.clickFun():location.assign(this.props.buttonLink)}},{key:"render",value:function(){var e=this.props,t=e.buttonAriaLabel,n=e.buttonClassName,r=e.buttonLink,i=e.buttonType,a=e.buttonName,c=e.isDisabled;switch(i){case"link":return o.a.createElement("a",{className:n,href:r},a);default:return o.a.createElement("button",{"aria-label":t,className:n,disabled:c,onClick:this.clickFun,tabIndex:"0"},a)}}}])&&Ir(n.prototype,r),i&&Ir(n,i),t}(o.a.PureComponent);Tr.defaultProps={buttonAriaLabel:"",buttonClassName:"vive-button",buttonLink:"#",buttonName:"Button",buttonType:"button",isDisabled:!1,clickFun:null},Tr.propTypes={buttonAriaLabel:Me.a.string,buttonClassName:Me.a.string,buttonLink:Me.a.string,buttonType:Me.a.string,buttonName:Me.a.string,isDisabled:Me.a.bool,clickFun:Me.a.func};var Er=Tr;function Lr(e){return(Lr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Or(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pr(e){return(Pr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function jr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xr(e,t){return(xr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Dr=o.a.Fragment,Nr=function(e){function t(e){var n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=Pr(t).call(this,e))||"object"!==Lr(o)&&"function"!=typeof o?jr(r):o).clickToSearch=n.clickToSearch.bind(jr(n)),n.toggleSearchInput=n.toggleSearchInput.bind(jr(n)),n.handleSubmit=n.handleSubmit.bind(jr(n)),n.setDropdownMenu=n.setDropdownMenu.bind(jr(n)),n.setSelectedIndex=n.setSelectedIndex.bind(jr(n)),n.state={isSearchInputShow:!1,isDropdownMenuOpen:!1,selectedIndex:"All"},n.hamburgerButtonEventHandle=n.hamburgerButtonEventHandle.bind(jr(n));var i=document.querySelector(".hamburger-icon");return i&&(i.onclick=n.hamburgerButtonEventHandle),n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xr(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){var e=this,t=function(){for(var e=[{host:"vive",class:"www"},{host:"eshop",class:"e-shop"},{host:"htc",class:"htc-www"},{host:"exodus",class:"exodus"},{host:"developer",class:"developer"},{host:"vivex",class:"vivex"},{host:"enterprise",class:"enterprise"},{host:"arts",class:"arts"},{host:"viveBlog",class:"vive-blog"}],t=0;t<e.length;t+=1)if(document.documentElement.classList.contains(e[t].class))return e[t].host;return e[0]}();this.props.getSearchIndexes(t,this.props.siteID),"search"===this.props.siteGTM&&this.toggleSearchInput(),document.body.addEventListener("click",(function(t){var n=t.target.className;-1===n.indexOf("search-index-dropdown-item")&&-1===n.indexOf("dropdown-menu-button")&&e.props.isDropdownMenuOpen&&e.setDropdownMenu(!1),document.getElementsByTagName("header")[0].contains(t.target)&&!t.target.classList.contains("nav20-toggle-btn")||e.props.hideSearchInput()}))}},{key:"componentWillReceiveProps",value:function(e){e.selectedIndex!==this.props.selectedIndex&&this.setSelectedIndex(e.selectedIndex)}},{key:"componentDidUpdate",value:function(e){}},{key:"hamburgerButtonEventHandle",value:function(){this.props.isSearchInputShow&&this.props.hideSearchInput()}},{key:"setDropdownMenu",value:function(e){e?this.props.openDropdownMenu():this.props.closeDropdownMenu()}},{key:"setSelectedIndex",value:function(e){this.setState({selectedIndex:e}),this.setDropdownMenu(!1)}},{key:"toggleSearchInput",value:function(){this.props.isSearchInputShow?(Dn("click-event","vive-search","toggle-search-input","close"),this.props.hideSearchInput()):(Dn("click-event","vive-search","toggle-search-input","open"),this.props.showSearchInput())}},{key:"clickToSearch",value:function(){var e=this.props,t=e.siteID,n=e.siteGTM,r=e.queryString,o=e.updateCurrentQueryString,i=this.state.selectedIndex;if(r.trim().length>0)if("search"===n)Dn("click-event","vive-search","click-to-search","".concat(i,"-").concat(r.toLowerCase())),o(i);else{var a="developer.viveport.com"===document.location.host?"www.vive.com":document.location.host,c="".concat(a,"/").concat(t,"/search"),s="?q=".concat(encodeURIComponent(r),"&section=").concat(encodeURIComponent(i));Dn("click-event","vive-search","redirect-to-search","".concat(i,"-").concat(r.toLowerCase())),window.location.href="https://".concat(c).concat(s)}}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.clickToSearch()}},{key:"render",value:function(){var e,t=this,n=this.props,r=n.isSearchInputShow,i=n.isDropdownMenuOpen,a=n.queryString,c=n.searchIndices,s=n.searchIndicesList,u=n.t,l=n.updateQueryString,d=this.state.selectedIndex,p="dropdown ".concat(i?"is-open":""),f="fa ".concat(i?"fa-sort-asc":"fa-sort-desc"," dropdown-menu-button"),m=("search-box ".concat(r?"show-input":""),"fa ".concat(r?"fa-times":"fa-search"," search-button toggle-button"));return e="All"!==d&&c[d]?c[d].displayName?u(c[d].displayName):u(c[d].i18nKey):u("section-all"),r?(S(document.getElementsByTagName("body")[0],["search-box-show"]),S(document.getElementsByTagName("header")[0],["search-mode"])):(w(document.getElementsByTagName("body")[0],["search-box-show"]),w(document.getElementsByTagName("header")[0],["search-mode"])),o.a.createElement(Dr,null,o.a.createElement("div",{className:p},o.a.createElement(Er,{buttonName:e,buttonClassName:f,clickFun:function(){t.setDropdownMenu(!i)}}),o.a.createElement("ul",{className:"dropdown-menu"},o.a.createElement("li",{className:"search-index ".concat("All"===d&&"selected-index")},o.a.createElement("div",{onClick:function(){t.setSelectedIndex("All")},role:"presentation"},u("section-all"))),s.map((function(e){var n="search-index-dropdown-item ".concat(e===d&&"selected-index");return o.a.createElement("li",{key:e,className:n},o.a.createElement("div",{onClick:function(){t.setSelectedIndex(e)},role:"presentation"},c[e].displayName||u(c[e].i18nKey)))})))),o.a.createElement("form",{onSubmit:function(e){t.handleSubmit(e)},name:"searchForm"},o.a.createElement("input",{className:"search-input",name:"searchInput",onChange:function(e){l(e.target.value)},placeholder:u("search"),type:"text",value:a,"aria-label":u("search")})),o.a.createElement(Er,{buttonAriaLabel:u("search"),buttonName:"",clickFun:this.clickToSearch,isDisabled:0===a.length,buttonClassName:"fa fa-search search-button click-search-button"}),o.a.createElement(Er,{buttonAriaLabel:u("close"),buttonName:"",clickFun:this.toggleSearchInput,buttonClassName:m}))}}])&&Or(n.prototype,r),i&&Or(n,i),t}(o.a.Component);Nr.defaultProps={hideSearchInput:null,showSearchInput:null,isDropdownMenuOpen:!1,isSearchInputShow:!1,queryString:"",openDropdownMenu:null,closeDropdownMenu:null,searchIndices:{},searchIndicesList:[],selectedIndex:"",siteGTM:"",siteID:"",t:A({search:"Search","section-all":"All"}),updateQueryString:null,updateCurrentQueryString:null},Nr.propTypes={hideSearchInput:Me.a.func,showSearchInput:Me.a.func,isDropdownMenuOpen:Me.a.bool,isSearchInputShow:Me.a.bool,queryString:Me.a.string,openDropdownMenu:Me.a.func,closeDropdownMenu:Me.a.func,searchIndices:Me.a.objectOf(Me.a.object),searchIndicesList:Me.a.arrayOf(Me.a.string),selectedIndex:Me.a.string,siteGTM:Me.a.string,siteID:Me.a.string,t:Me.a.func,updateQueryString:Me.a.func,updateCurrentQueryString:Me.a.func};var qr=Nr,Rr=Object(c.b)((function(e){return{isSearchInputShow:e.getIn(["cmsSearch","isSearchInputShow"]),isDropdownMenuOpen:e.getIn(["cmsSearch","isDropdownMenuOpen"]),queryString:e.getIn(["cmsSearch","queryString"]),searchIndices:e.getIn(["cmsSearch","searchIndices"]).toJS(),searchIndicesList:e.getIn(["cmsSearch","searchIndicesList"]).toJS(),selectedIndex:e.getIn(["cmsSearch","selectedIndex"]),siteGTM:e.getIn(["cmsCookie","siteGTM"]),siteID:e.getIn(["cmsCookie","siteID"])}}),(function(e){return{showSearchInput:function(){return e(Ct())},hideSearchInput:function(){return e(Tt())},openDropdownMenu:function(){return e(Et())},closeDropdownMenu:function(){return e(Lt())},updateQueryString:function(t){return e(It(t))},updateCurrentQueryString:function(t){return e(At(t))},getSearchIndexes:function(t,n){return e(function(e,t){return function(n,r){var o=document.getElementsByTagName("header")[0].getAttribute("data-search-index")||"[]",i=JSON.parse(o),a={};if(i.length>0){var c=[],s={};i.forEach((function(e){s[e.display_name]={hits:0,i18nKey:"section-".concat(e.index),isSelected:!1,src:e.index,version:e.version,displayName:e.display_name,tags:e.tags},c.push(e.display_name)})),a={searchIndicesList:c,searchIndices:s}}else{a=xe[e]||xe.vive,"htc"===e&&["us","www","uk","ie","hk-en","au","nz","mea-en","ca","sea","in"].indexOf(t)<0&&(a.searchIndicesList=a.searchIndicesList.filter((function(e){return"blog"!==e}))),"arts"===e&&(a.searchIndicesList=a.searchIndicesList.filter((function(e){return"blog"!==e})).filter((function(e){return"vivePort"!==e})).filter((function(e){return"support"!==e})))}n(Ot(a))}}(t,n))}}}))(Object(s.c)()(qr));function Hr(e){return(Hr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ur(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Br(e,t){return!t||"object"!==Hr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Mr(e){return(Mr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Fr(e,t){return(Fr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Qr=o.a.Fragment,Gr=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Br(this,Mr(t).call(this,e))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fr(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){this.props.isStickyBtn&&S(document.body,["contain-sitcky-button"])}},{key:"render",value:function(){var e=this.props,t=e.isStickyBtn,n=e.slugData,r=e.slug,i=e.t,a=e.gtm,c=e.eventAction,s=e.eventCategory,u=e.eventLabel,l=(e.linkTarget,o.a.createElement("div",null));if(n[r]&&n[r].buy_link){var d=this.props.buttonName.trim()||n[r].buy_button_custom_wording.trim()||i("sticky-btn",{productName:n[r].list_name}),p=ve(n[r].buy_link),f=ye(p.hostname,document.location.hostname)?"_self":"_blank";l=t?o.a.createElement("div",{className:"sticky-btn-bar"},o.a.createElement("a",{className:"src-slug-btn btn vive-btn",href:n[r].buy_link,target:f,"data-gtm":a,"data-event-action":c,"data-event-category":s,"data-event-label":u},d)):o.a.createElement("a",{className:"src-slug-btn btn vive-btn",href:n[r].buy_link,target:f,"data-gtm":a,"data-event-action":c,"data-event-category":s,"data-event-label":u},d)}return o.a.createElement(Qr,null," ",l)}}])&&Ur(n.prototype,r),i&&Ur(n,i),t}(o.a.PureComponent);Gr.defaultProps={buttonName:"",isStickyBtn:"",t:A({"sticky-btn":"Buy {{productName}}"}),gtm:"",eventAction:"",eventCategory:"",eventLabel:"",linkTarget:"_blank"},Gr.propTypes={buttonName:Me.a.string,isStickyBtn:Me.a.string,slug:Me.a.string.isRequired,slugData:Me.a.object.isRequired,t:Me.a.func,eventAction:Me.a.string,gtm:Me.a.string,eventCategory:Me.a.string,eventLabel:Me.a.string,linkTarget:Me.a.string};var Jr=n(294),Kr=n.n(Jr);function $r(e){return($r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zr(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function Vr(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){zr(i,r,o,a,c,"next",e)}function c(e){zr(i,r,o,a,c,"throw",e)}a(void 0)}))}}function Wr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xr(e,t,n){return t&&Yr(e.prototype,t),n&&Yr(e,n),e}function Zr(e,t){return!t||"object"!==$r(t)&&"function"!=typeof t?to(e):t}function eo(e){return(eo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function to(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function no(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ro(e,t)}function ro(e,t){return(ro=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function oo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var io=o.a.Fragment,ao=function(e){function t(e){var n;return Wr(this,t),oo(to(n=Zr(this,eo(t).call(this,e))),"componentDidMount",Vr(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("MAGENTO"===n.props.siteInfo.cartProviderType){e.next=7;break}return e.next=3,n.getProduct(n.props.defaultPid);case 3:t=e.sent,n.updatePrice(t.price),n.updateButton(t.inventory,t.isBackOrder),n.updateProductModelAvailable(n.props.productList);case 7:case"end":return e.stop()}}),e)})))),oo(to(n),"getProductFromProps",(function(e,t){var n=!0,r=!1,o=void 0;try{for(var i,a=t[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var c=i.value;if(c.pid.toString()===e.toString())return{price:c.formatted_base_price,saleprice:c.formatted_price,overrideOutOfStock:!1,availableStock:"",inventory:parseInt(c.inventory,10),isAvailable:"available"===c.status,isBackOrder:!1,isPreOrder:!1}}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}})),oo(to(n),"getProduct",function(){var e=Vr(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Pe.a((function(e){n.ecCartProviderApi.returnProductInfo(t,(function(t){e(t)}))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),oo(to(n),"updateProductModelAvailable",function(){var e=Vr(regeneratorRuntime.mark((function e(t){var r,o,i,a,c,s,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.length>1)){e.next=30;break}r=!0,o=!1,i=void 0,e.prev=4,a=t[Symbol.iterator]();case 6:if(r=(c=a.next()).done){e.next=16;break}return s=c.value,u=document.querySelector('option[value="'.concat(s.sku,'"]')),e.next=11,n.getProduct(s.sku);case 11:e.sent.inventory<1&&u.setAttribute("disabled","disabled");case 13:r=!0,e.next=6;break;case 16:e.next=22;break;case 18:e.prev=18,e.t0=e.catch(4),o=!0,i=e.t0;case 22:e.prev=22,e.prev=23,r||null==a.return||a.return();case 25:if(e.prev=25,!o){e.next=28;break}throw i;case 28:return e.finish(25);case 29:return e.finish(22);case 30:case"end":return e.stop()}}),e,null,[[4,18,22,30],[23,,25,29]])})));return function(t){return e.apply(this,arguments)}}()),oo(to(n),"updateProductModelFromProps",(function(e,t){if(e.length>1){var r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done);r=!0){var s=a.value,u=document.querySelector('option[value="'.concat(s.sku,'"]')),l=n.getProductFromProps(s.sku,t);l&&l.inventory<1&&u.setAttribute("disabled","disabled")}}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}}})),oo(to(n),"updatePrice",(function(e){n.props.priceHandler(e),n.setState({price:e})})),oo(to(n),"updateButton",(function(e,t){n.props.inventoryBackOrderHandler(e,t),n.setState({inventory:e,isBackOrder:t}),e>0?n.setState({showAddToCart:""}):n.setState({showOutOfStock:""})})),oo(to(n),"modelChangeHandler",(function(e){""===e.target.value?(e.target.parentNode.classList.add("error"),e.target.closest(".box-select ").classList.add("error")):(e.target.parentNode.classList.remove("error"),e.target.closest(".box-select ").classList.remove("error"))})),oo(to(n),"addToCartClickHandler",(function(e){var t=e.target.closest(".box-select"),r=e.currentTarget;if(!t.matches(".error")){r.classList.add("adding-product");var o=t.querySelector(".quantity-selector"),i=o.options[o.selectedIndex].value,a=t.querySelector(".model-block"),c=t.querySelector(".model-selector"),s=c.options[c.options.length-1].value;a.matches(".d-none")||(s=c.options[c.selectedIndex].value),n.ecCartProviderApi.addToCart(s,i,(function(e){null==e&&(n.miniCartVive.checkShoppingCart(),setTimeout((function(){oe("cart",!0)}),1e3)),r.classList.remove("adding-product")}))}})),n.selectorDeafultClass="selector-outline btn vive-select-btn-outline",n.selectorClassSet={dark:"",light:"vive-select-btn-outline--light"},n.state={price:"",inventory:1,isBackOrder:!1,showAddToCart:"d-none",showOutOfStock:"d-none"},n.getProduct=n.getProduct.bind(to(n)),n.getProductFromProps=n.getProductFromProps.bind(to(n)),n.updatePrice=n.updatePrice.bind(to(n)),n.updateButton=n.updateButton.bind(to(n)),n.ecCartProviderApi=new re,n.miniCartVive=new ae,n}return no(t,e),Xr(t,[{key:"componentDidUpdate",value:function(e){if(this.props.ecProductInfoList!==e.ecProductInfoList&&"MAGENTO"===this.props.siteInfo.cartProviderType){var t=this.getProductFromProps(this.props.defaultPid,this.props.ecProductInfoList),n="",r=0,o=!1;t&&(n=t.price,r=t.inventory,o=t.isBackOrder),this.updatePrice(n),this.updateButton(r,o),this.updateProductModelFromProps(this.props.productList,this.props.ecProductInfoList)}}},{key:"priceBlock",value:function(){return"false"===this.props.showPrice?o.a.createElement("div",{className:"h6 price-label price-label__empty"}," "):o.a.createElement("div",{className:"h6 price-label"}," ",this.state.price," ")}},{key:"productSelectAndAddCartBlock",value:function(){var e,t=this.props,n=t.defaultPid,r=t.productList,i=t.boxClass,a=t.siteInfo,c=t.sizeTxt,s=t.selectStyle,u=t.t,l=t.btnClass,d=t.btnLabel,p="".concat(this.selectorDeafultClass," ").concat(this.selectorClassSet[s]),f=l||"vive-btn";e=""!==d?d:u("add-to-cart");var m=5;"tw"===a.siteId?m=3:"cn"===a.siteId&&(m=2);var h="d-none";return r.length>=2&&(h="d-inline-block"),o.a.createElement("div",{className:i},o.a.createElement("div",null,o.a.createElement("div",{className:"quantity-block pickup-block ".concat(p)},o.a.createElement("select",{className:"quantity-selector","data-gtm":"quantity-selector"},Kr()(1,m+1).map((function(e){return o.a.createElement("option",{key:e,value:e},e)})))),o.a.createElement("div",{className:"model-block pickup-block ".concat(p," ").concat(h)},o.a.createElement("select",{className:"model-selector accessory-pickup","data-gtm":"accessory-pickup-selector",defaultValue:n,onChange:this.modelChangeHandler},o.a.createElement("option",{value:""},c||u("size")),r.map((function(e){return o.a.createElement("option",{key:e.sku,"data-sku-id":e.sku,value:e.sku},e.model)}))))),o.a.createElement("button",{className:"btn ".concat(f," add-to-cart-button ").concat(this.state.showAddToCart),"data-gtm":"add-to-cart-button",type:"button",onClick:this.addToCartClickHandler},o.a.createElement("span",{className:"text-block"},e),o.a.createElement("span",{className:"spinner-block spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}),o.a.createElement("span",{className:"spinner-block sr-only"},"Loading...")),o.a.createElement("a",{className:"src-slug-product btn-buy-directly btn vive-btn disabled ".concat(this.state.showOutOfStock),href:"#"},u("out-of-stock")))}},{key:"render",value:function(){return o.a.createElement(io,null,this.priceBlock(),this.productSelectAndAddCartBlock())}}]),t}(o.a.Component);ao.propTypes={defaultPid:Me.a.string.isRequired,productList:Me.a.array.isRequired,siteInfo:Me.a.shape({siteId:Me.a.string.isRequired}).isRequired,showPrice:Me.a.string,boxClass:Me.a.string.isRequired,sizeTxt:Me.a.string.isRequired,selectStyle:Me.a.string.isRequired,btnClass:Me.a.string.isRequired,t:Me.a.func.isRequired};var co=function(e){function t(e){var n;return Wr(this,t),(n=Zr(this,eo(t).call(this,e))).state={inventory:1,isBackOrder:!1},n.genButtonCompoment=n.genButtonCompoment.bind(to(n)),n.linkButton=n.linkButton.bind(to(n)),n.updatePriceBlockHandler=n.updatePriceBlockHandler.bind(to(n)),n.updateProductInventoryAndBackOrder=n.updateProductInventoryAndBackOrder.bind(to(n)),n}return no(t,e),Xr(t,[{key:"updatePriceBlockHandler",value:function(e){var t=a.a.findDOMNode(this);if(t instanceof HTMLElement){var n=t.parentElement.parentElement.querySelector(".price-block");n&&(n.innerText=e)}}},{key:"updateProductInventoryAndBackOrder",value:function(e,t){this.setState({inventory:e,isBackOrder:t})}},{key:"linkButton",value:function(e,t){var n=this.props,r=n.slug,i=n.slugData,a=n.btnLabel,c=n.t,s=n.gtm,u=n.eventAction,l=n.eventCategory,d=n.eventLabel,p=(n.category,this.state.inventory),f=this.state.isBackOrder,m=e.length>0?a||i[r].buy_button_custom_wording||c("buy-now"):"",h=e.length>0?a||i[r].buy_button_custom_wording||c("sticky-btn",{productName:e[0].name}):"";if(e.length>1){var v=e.map((function(e){return{value:e.link,label:e.name}}));return o.a.createElement(ze,{selectedLabel:h,options:v,onChangeFn:function(e){he(e,document.location.host,!0,c("external-url-notice-message"));var t=ve(e),n=ye(t.hostname,window.location.hostname)?"_self":"_blank";Dn(s,l,u,d),window.open("".concat(e),n)}})}if(e.length>0){var y=ve(e[0].link),g=ye(y.hostname,window.location.hostname)?"_self":"_blank";return"ACCESSORY"===(this.props.category||"")?o.a.createElement(io,null,o.a.createElement("div",{className:"box-select"},o.a.createElement("div",{className:"quantity-block pickup-block selector-outline btn vive-select-btn-outline "},o.a.createElement("select",{className:"quantity-selector","data-gtm":"quantity-selector"},o.a.createElement("option",{value:"1"},"1")))),o.a.createElement("a",{className:"src-slug-product btn-buy-directly btn vive-btn",href:e[0].link,target:g,"data-gtm":s,"data-event-action":u,"data-event-category":l,"data-event-label":d},m)):f&&p<1?o.a.createElement("a",{className:"src-slug-product btn-buy-directly btn-back-order btn vive-btn",href:e[0].link,target:g,"data-gtm":s,"data-event-action":u,"data-event-category":l,"data-event-label":d},c("back-order")):o.a.createElement("a",{className:"src-slug-product btn-buy-directly btn vive-btn ".concat(p<1?"disabled":""),href:e[0].link,target:g,"data-gtm":s,"data-event-action":u,"data-event-category":l,"data-event-label":d},p>0?m:c("out-of-stock"))}return""}},{key:"genButtonCompoment",value:function(e,t,n){var r=this.props,i=r.t,a=r.siteInfo,c=r.showPrice,s=r.sizeTxt,u=r.selectStyle,l=r.ecPidList,d=r.ecProductInfoList,p=r.btnLabel;if(e){var f="false";void 0!==c&&(f="true");var m=this.props.btnClass||"vive-btn",h="box-select ".concat(t.length>0?"d-none":"");return o.a.createElement(io,null,o.a.createElement(ao,{priceHandler:this.updatePriceBlockHandler,inventoryBackOrderHandler:this.updateProductInventoryAndBackOrder,defaultPid:e,productList:n,siteInfo:a,showPrice:f,btnLabel:p,boxClass:h,btnClass:m,t:i,sizeTxt:s,selectStyle:u,ecPidList:l,ecProductInfoList:d}),this.linkButton(t,m))}return this.linkButton(t)}},{key:"render",value:function(){var e=this.props,t=e.slugData,n=e.slug,r=(e.ecPidList,function(e){var t,n=[],r=[];if(e&&e.list_name){r=e.productmodel_set||[];for(var o=0;o<r.length;o+=1)if(r[o].default&&(t=r[o].sku),r[o].buy_link){var i="default"===r[o].model?e.list_name:r[o].model;n.push({name:i,link:r[o].buy_link})}0===n.length&&e.buy_link&&n.push({name:e.list_name,link:e.buy_link})}return{defaultPid:t,directLinkList:n,productList:r}}(t[n])),i=r.defaultPid,a=r.directLinkList,c=r.productList;return i&&function(e,t){for(var n=document.querySelectorAll(".js-slug-".concat(e)),r=0;r<n.length;r+=1){var o=n[r];o.setAttribute("data-product-id",t),o.setAttribute("data-default-sku-id",t)}}(n,i),o.a.createElement(io,null,this.genButtonCompoment(i,a,c))}}]),t}(o.a.PureComponent);co.defaultProps={btnLabel:"",btnClass:"",sizeTxt:"Size",gtm:"",eventAction:"",eventCategory:"",eventLabel:"",selectStyle:"dark",t:A({"sticky-btn":"Buy {{productName}}"})},co.propTypes={gtm:Me.a.string,eventAction:Me.a.string,eventCategory:Me.a.string,eventLabel:Me.a.string,btnLabel:Me.a.string,btnClass:Me.a.string,selectStyle:Me.a.string,sizeTxt:Me.a.string,slug:Me.a.string.isRequired,slugData:Me.a.objectOf(Me.a.shape({buy_button_custom_inline_style:Me.a.string,buy_button_custom_wording:Me.a.string,buy_link:Me.a.string,list_name:Me.a.string,productmodel_set:Me.a.arrayOf(Me.a.object),slug:Me.a.string})).isRequired,siteInfo:Me.a.shape({siteId:Me.a.string.isRequired}).isRequired,showPrice:Me.a.string,t:Me.a.func,category:Me.a.string};var so=co,uo=Object(c.b)((function(e){return{slugData:e.getIn(["product","slugData"]).toJS(),siteInfo:e.getIn(["cmsCookie","siteInfo"]).toJS(),ecPidList:e.getIn(["product","ecPidList"]),ecProductInfoList:e.getIn(["product","ecProductInfoList"])}}),(function(e){return{}}))(Object(s.c)()(so)),lo=Object(c.b)((function(e){return{slugData:e.getIn(["product","slugData"]).toJS(),siteInfo:e.getIn(["cmsCookie","siteInfo"]).toJS(),ecPidList:e.getIn(["product","ecPidList"]),ecProductInfoList:e.getIn(["product","ecProductInfoList"])}}),(function(e){return{}}))(Object(s.c)()(so));function po(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var fo=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.i18n=Xe(document.querySelector(".js-i18n-data")),this.mountAllSlugButton=this.mountAllSlugButton.bind(this),this.mountAllSlugProduct=this.mountAllSlugProduct.bind(this)}var t,n,r;return t=e,(n=[{key:"init",value:function(){var e=this,t=document.location.pathname.split("/")[2]||"index",n=document.body.getAttribute("data-site")||document.documentElement.getAttribute("data-site"),r=document.querySelector(".main.support");this.i18n=Xe(document.querySelector(".js-i18n-data")),document.body.onclick=function(t){return ge(t,!0,e.i18n.t("external-url-notice-message"))},document.body.oncontextmenu=function(t){return ge(t,!1,e.i18n.t("external-url-notice-message"))},gn.dispatch((function(e,t){var n=document.body.getAttribute("data-site")||document.documentElement.getAttribute("data-site"),r={"site-id":n};e(gt(n)),Re.sendRequest("getUserLangLocale",r).then((function(r){var o=b.a.get("dr-htc-locale-info")?JSON.parse(b.a.get("dr-htc-locale-info")):y,i=n===o.siteId?o.fiterCountry:r.siteDefaultECMappingCountryLocale,a=n===o.siteId?o:t().getIn(["countrySelector","countrySelectorData"])[i]||y,c={siteId:a.siteId,locale:a.locale,fiterCountry:a.fiterCountry,countryName:a.countryName,currency:a.currency,themeId:a.themeId,cartProviderType:a.cartProviderType,storeLocale:a.storeLocale,ecLocale:a.ecLocale,miniCartApiLink:a.miniCartApiLink};e(Dt({siteInfo:c,isSelectorClick:!1})),e(kt(i)),e($t())}))})),gn.dispatch(yt(t)),gn.dispatch(en({sites:n})),this.initCountriesData(),this.header=new Te(".nav20-desktop-menu",(function(){gn.dispatch(Tt())}),this.i18n),this.footer=new Le,this.miniCartVive=new ae,this.miniCartVive.init(),this.stayUpdate=new Ue,this.initAccordion(),this.initAccessoryList(),r&&(this.support=new We(r)),this.mountCompoment(document.getElementById("search-box"),Rr),this.mountCompoment(document.getElementById("search-page"),Sr),this.mountCompoment(document.getElementById("section-scheduler"),Ln),this.mountAllSlugButton(),this.mountAllSlugProduct()}},{key:"initCountriesData",value:function(){for(var e=document.querySelectorAll(".ec-select-country .flex-item span"),t={},n=0;n<e.length;n+=1){for(var r=e[n].attributes,o={name:e[n].innerText},i=0;i<r.length;i+=1){var a=r[i],c=a.nodeName,s=a.nodeValue;o[c.replace("data-","")]=s}t[o["fiter-country"]]=o}gn.dispatch(xt(t))}},{key:"initAccordion",value:function(){for(var e=document.querySelectorAll(".js-accordion"),t=function(t){var n=e[t],r=n.querySelector(".js-accordion-toggle");r&&(r.onclick=function(){n.classList.toggle("active")})},n=0;n<e.length;n+=1)t(n)}},{key:"initAccessoryList",value:function(){var e=this,t=document.querySelectorAll(".js-product-tag-index .label-checkbox");t.length>1?function(){for(var n={},r=document.querySelector(".main"),o=document.querySelector(".js-product-list"),i=o.querySelectorAll("li"),a=document.createElement("li"),c=[],s=[],u=function(){var e=0;c.forEach((function(t){if(n[t].isChecked){var r=document.querySelector(".accessory-list-".concat(t));e%2?S(r,["bg-light"]):w(r,["bg-light"]),e+=1}}))},d=0;d<t.length;d+=1){var f=t[d],m=f.getAttribute("data-tag")||0,h=f.querySelector(".check-mark");c.push(m),n[m]={isChecked:!0,checkElement:f,tagName:h.innerText||h.textContent,tagProductList:[],tagID:m}}for(var y=function(e){var t=i[e];(t.querySelector(".product-list-card").getAttribute("data-tags")||c[0].toString()).split(",").forEach((function(e){n[e]&&n[e].tagProductList.push(t.cloneNode(!0))}))},g=0;g<i.length;g+=1)y(g);Object.keys(n).forEach((function(e){var t=n[e];t.tagProductList.length>0?t.checkElement.onclick=function(e){e.preventDefault();var n=t.isChecked,r=document.querySelector(".accessory-list-".concat(t.tagID)),o=a.querySelector("input");n?s.length>1&&(s=l()(s,t.tagID),S(r,["d-none"]),t.isChecked=!1,t.checkElement.querySelector("input").checked=!1):(s=p()(s,[t.tagID]),w(r,["d-none"]),t.isChecked=!0,t.checkElement.querySelector("input").checked=!0),o.checked=s.length===c.length,u()}:(c=l()(c,t.tagID),I(t.checkElement.parentNode),delete n[e])})),c.length>1?(a.innerHTML='\n          <label class="label-checkbox" data-tag="0">\n            <input type="checkbox" checked>\n            <span class="label-text check-mark">'.concat(e.i18n.t("all-accessories"),"</span>\n          </label>"),a.setAttribute("class","col-12 col-md-6 col-lg-3 py-3"),a.onclick=function(e){e.preventDefault();var t=a.querySelector("input");t.checked||(s=c,t.checked=!0,v()(n,(function(e,t){var r=document.querySelector(".accessory-list-".concat(e.tagID)),o=e.checkElement.querySelector("input");w(r,["d-none"]),o.checked=!0,n[t].isChecked=!0})),u())},s=c,document.querySelector(".js-product-tag-index").prepend(a),c.forEach((function(e){var t=n[e],i=document.createElement("section"),a=document.createElement("div"),c=document.createElement("h3"),s=document.createElement("ul");i.setAttribute("class","accessory-list py-3 accessory-list-".concat(e)),a.setAttribute("class","container"),c.setAttribute("class","text-center py-5"),c.innerText=t.tagName,s.setAttribute("class",o.getAttribute("class"));for(var u=0;u<t.tagProductList.length;u+=1)s.appendChild(t.tagProductList[u]);a.appendChild(c),a.appendChild(s),i.appendChild(a),r.appendChild(i)})),w(document.querySelector(".js-product-tag-index"),["d-none"]),I(o),u()):I(document.querySelector(".js-product-tag-index"))}():I(document.querySelector(".js-product-tag-index"))}},{key:"mountAllSlugButton",value:function(){for(var e=document.querySelectorAll(".js-slug-btn[data-slug]"),t=0;t<e.length;t+=1){var n=e[t],r=n.getAttribute("data-slug"),o=n.getAttribute("target")||"_blank",i=n.innerText||n.textContent,a=document.createElement("span"),c=m()(_(n),{buttonName:i,linkTarget:o}),s=document.querySelector(".header .nav20-link-2-content"),u=document.querySelector(".footer .mobile-footer-fixed-section .container");if(a.setAttribute("data-slug",r),c.isStickyBtn&&s&&u){console.log("aaab");var l=a.cloneNode(!0);n.parentNode.removeChild(n),s.append(a),u.append(l),this.mountCompoment(l,uo,c)}else console.log("bbba"),n.parentNode.replaceChild(a,n);this.mountCompoment(a,uo,c)}}},{key:"mountAllSlugProduct",value:function(){for(var e=document.querySelectorAll(".js-slug-product[data-slug]"),t=0;t<e.length;t+=1){var n=e[t],r=n.getAttribute("data-slug"),o=n.querySelector(".js-slug-box"),i=_(n);S(n,["js-slug-".concat(r)]),this.mountCompoment(o,lo,i)}}},{key:"mountCompoment",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e&&a.a.render(o.a.createElement(c.a,{store:gn},o.a.createElement(s.a,{i18n:this.i18n},o.a.createElement(t,m()(_(e),n)))),e)}}])&&po(t.prototype,n),r&&po(t,r),e}());window.miniCartViveApp=new ae,fo.init()},664:function(e,t){},678:function(e,t){}});